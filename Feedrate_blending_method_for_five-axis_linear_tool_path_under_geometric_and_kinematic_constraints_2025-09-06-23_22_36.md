

<!-- Meanless: International Journal of Mechanical Sciences 195 (2021) 106262 Contents lists available at ScienceDirect International Journal of Mechanical Sciences ELSEVIER journal homepage: www.elsevier.com/locate/ijmecsci Check for updates-->

# Feedrate blending method for five-axis linear tool path under geometric and kinematic constraints

Yongbin Zhang \( {}^{a, * } \) ,Taiyong Wang \( {}^{a,b, * } \) ,Peng Peng \( {}^{a} \) ,Jingchuan Dong \( {}^{a} \) ,Libo Cao \( {}^{a} \) ,Chong Tian \( {}^{a} \)

\( {}^{a} \) School of Mechanical Engineering,Tianjin University,Tianjin 300354,China

\( {}^{\mathrm{b}} \) Renai College,Tianjin University,Tianjin 301636,China

## A R T I C L E I N F O

Keywords:

Corner smoothing

Feedrate blending

Five-axis

Geometric and kinematic constraints

## A B S T R A C T

To tackle the bottlenecks of the linear interpolation and two-step geometry-based corner smoothing methods in five-axis machining, an analytical one-step corner smoothing method based on feedrate blending is proposed in this paper. In the proposed algorithm, the maximum kinematics adjustments scheme together with the variable acceleration and jerk optimization algorithms are first adopted to determine the dynamic performances along the linear segments. Meanwhile, the smooth feedrate profiles of the tool tip position in the workpiece coordinate system (WCS) and tool orientation in the machine coordinate system (MCS) are generated by the tool tip mastered jerk-limited feedrate scheduling scheme, with which the tool tip feedrate and angular feedrate in the WCS, together with the translational and rotatory feedrate in the MCS are well bounded. Then, the blending time is calculated based on the specified tool tip error and tool orientation error in the WCS, and the feedrate profiles are blended to generate the smooth trajectories under axial kinematic constraints along the whole paths in both the WCS and MCS. Since the proposed method can generate the smooth corner trajectory by directly blending the feedrate profiles, it eliminates the construction and interpolation process of parametric splines in two-step corner smoothing algorithms and shows better tracking and real-time performances. Finally, simulation and experimental results validate the effectiveness and feasibility of the proposed method.

## 1. Introduction

Five-axis computer numerical control (CNC) machine tools are widely applied to machine the free-form parts due to its cutting efficiency and machining reachability [1-4]. The parametric curves, such as polynomial splines, Bézier, B-spline, and NURBS, are usually used to describe these parts in computer aided design (CAD) software, which are also the ideal representations of the tool paths in free-form machining [5-7]. However, most of the tool paths are still represented as a series of linear segments (G01) with discretizing the parametric curves under the predefined tolerance in computer aided manufacturing (CAM) software [6-9]. Although the successive linear tool paths can be easily followed, there is only position \( \left( {\mathrm{G}}^{0}\right) \) continuous at the joint of two adjacent linear segments. The feed drives have to undergo a full-stop at the joint to avoid the discontinuity of the axis acceleration in the linear interpolation, which may elongate the machining time and degrade surface quality [10-15].

Therefore, the well-known corner smoothing methods are applied to modify the sharp corners, thus to achieve the non-stop motion along the linear segments \( \left\lbrack  {3,{15}}\right\rbrack \) . A widely studied corner smoothing algorithms for five-axis CNC machine tools are established based on the geometry techniques, where double parametric curves are first used to blend adjacent five-axis linear segments within the user-defined tolerances for the tool tip and tool orientation, then, the feedrate scheduling of the new continuous trajectory mixed with lines and curves will be applied. In these methods,three main targets [11-13, 16, 17], that is, the smoothing error of tool orientation, the transition error of tool tip position, and the continuity of tool orientation, need to be achieved. For instance, Bi et al. [11] developed an analytical five-axis corner smoothing algorithm based on two transition cubic Bézier curves in the MCS. One cubic Bézier curve blended the segment junction of the translational trajectory, the other curve blended the segment junction of the rotational path trajectory. The synchronization of two curves was satisfied by adjusting the transition lengths in MCS, and the threshold deviations of tool tip point and tool orientation in the WCS were also limited based on the developed approximation error map. Tulsyan and Altintas [18] presented a decoupled approach to achieve the corner smoothing for five-axis linear segments. The tool tip and tool orientation were smoothed by inserting quintic and septic micro splines, respectively, under predefined tolerances in the WCS. And, the Newton-Raphson iterative optimization process was applied to realize the continuity of smoothed tool orientation and the synchronization of the position and orientation spline. Huang et al. [12] proposed a G2 continuous corner smoothing method for the five-axis linear tool path. A pair of cubic B-spline is used to replace the corners of tool position and tool orientation paths in the WCS under the predefined smoothing errors. The remaining linear segments were converted into B-splines to achieve the C1 continuity and parameter synchronization of the smooth tool path. Beudaert et al. [19] proposed a five-axis corner rounding method using two cubic B-spline curves. One bottom curve defined the locus of the tool tip positions and another top curve defined the locus of a second point belonging to the tool axis. With the presented algorithm, the tool tip and tool orientation tolerances in the WCS can be controlled precisely. And, a parameterization spline will be optimized with the Newton-Raphson algorithm to smooth orientation connection and generate higher feedrate. Xu and Sun [20] developed a circumscribed corner round method using double cubic B-splines to smooth the tool tip point and the second point on the tool axis in the WCS, with which a part of the control points of the designed B-spline was on the outside of the corner to generate smaller curvatures and higher feedrate under the maximum smoothing error. However, it is time-consuming to calculate curvature extreme without analytical expression in the feedrate scheduling process [9]. Jin et al. [21] presented a path smoothing algorithm for five-axis linear segments in WCS. In this algorithm, one Bézier curve was used to round the tool tip point path, and another Bézier curve was used to round the tool axis point path. The approximation error constraints, parameter synchronization between the tip point and tool axis trajectory, and transition length optimization were considered. Shi et al. [22] presented a corner smoothing technique for the five-axis tool path smoothing in the WCS. In this method, the corner was first rounded with a pair of PH curves under the tool tip and tool orientation tolerances. And the optimizing process of the control points was developed with the Newton iteration algorithm to achieve continuous tool orientation variation. Zhao et al. [13] proposed an analytical decouple tool path corner smoothing scheme for five-axis machining in the WCS. In the presented algorithm, the tool tip position was blended with an asymmetric cubic B-spline, and the tool orientation vector was smoothed with a pair of symmetric quartic spherical Bézier curves under the maximal approximation errors. Besides, an analytical synchronous scheme was applied to synchronize the tool tip position and tool orientation. Zhao et al. [16] proposed a novel path smoothing technique for five-axis machining with double cubic Bézier curves. The tool tip position was smoothed in the WCS, the tool orientation represented by two Eular angles was blended in the MCS. With the proposed algorithm the maximal smoothing errors of tool tip position and tool orientation were limited in the WCS. Huang et al. [7] proposed an analytical continuous corner smoothing scheme for the five-axis linear tool path. A pair of continuous arclength-parameterized biairthoids was designed to smooth the tool tip position in the WCS and the tool orientation in the MCS, respectively. And, the time synchronization strategy was applied to synchronize the transitional and rotational motion by sharing the same motion time. With the proposed method, the smoothing errors of the tool tip position and tool orientation in the WCS were strictly limited, and the physical continuous motion profile of the feed drives was generated.Yang and Yuen [23] developed a corner smoothing algorithm for five-axis linear tool paths by locally blending the transition corners with designed quantic micro splines. In this algorithm, the tool tip position and tool orientation were smoothed in WCS and MCS, respectively. Both the constraints of limited approximation tolerances and the synchronization of the tool tip position and tool orientation were all guaranteed. However, there were no analytical solutions of curvature extreme of the smoothing curves.

---

<!-- Footnote -->

E-mail addresses: zyb1993@tju.edu.cn (Y. Zhang), tywang@tju.edu.cn (T. Wang).

* Corresponding authors.

<!-- Footnote -->

---

<!-- Meanless: https://doi.org/10.1016/j.ijmecsci.2020.106262 Received 11 August 2020; Received in revised form 17 November 2020; Accepted 30 December 2020 Available online 4 January 2021 0020-7403/(C) 2021 Elsevier Ltd. All rights reserved.-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

The abovementioned two-step geometry-based corner smoothing approaches for the five-axis machine tools [11-13, 16, 18-23] can generate continuous tool paths to improve machining efficiency and quality. However, these methods are not efficient to separate the smoothing scheme into smooth curve fitting and feedrate planning [14, 24]. Besides, the length of blending curves, such as the popular Bézier and B-spline, has no analytical solution with spline parameters [10, 25]. Thus, some bottlenecks related to fast and accurate calculation of curve lengths, and effective control of feedrate fluctuation still exist, which restrict real-time performance in the application [2, 7, 14, 26]. Therefore, the one-step corner smoothing algorithms without a smoothing parametric curve have been developed in recent years, which can satisfy the geometric tolerances and kinematic constraints in tool path scheduling.

Although some one-step corner smoothing techniques for three-axis machine tools were developed based on linear feedrate profile [27, 28], jerk-limited feedrate profile [24, 29-31], jounce-limited feedrate profile \( \left\lbrack  {{32},{33}}\right\rbrack \) ,trigonometric function feedrate profile \( \left\lbrack  {34}\right\rbrack \) ,or finite impulse response (FIR) filters [35, 36], etc., only a few algorithms were proposed to realize the one-step direct corner smoothing for five-axis machine tools, recently. For instance, Lin et al. [17] proposed a local corner smoothing algorithm to generate a smooth motion trajectory for the five-axis linear tool path based on the jerk-limited S-shape feedrate profile. This method can smooth the corner by directly blending the feedrate profile with consideration of tool tip error and kinematic constraints. However, the tool orientation tolerance was not taken into consideration in the smoothing process. Tajima and Sencer [14] developed a direct one-step corner smoothing method for five-axis tool paths based on FIR filters. The algorithm blended the tangential velocity to smooth the tool path under the blending error constraints in the WCS and realized the motion synchronization of tool tip and tool orientation by matching the time-constants of FIR filters. However, axial kinematic constraints are not considered, which may degrade the tracking performance of feed drives [26]. Liu et al. [26] established a kinematic scheme to continuously interpolate five-axis linear segments based on FIR filters. The tool tip trajectory was filtered in the WCS to ensure the machining precision, the tool orientation trajectory was filtered in the MCS to respect the kinematic constraints. And, the tool tip and tool orientation trajectories were synchronized with a scaling principle and smoothed by overlapping the kinematic profile.

To tackle the bottlenecks in the geometry-based corner smoothing algorithms and realize the direct corner smoothing for the five-axis linear tool path with geometric and kinematic constraints, this paper develops a novel analytical one-step corner smoothing method based on our previous works \( \left\lbrack  {{24},{37}}\right\rbrack \) . The whole architecture of the proposed method is shown in Fig. 1. The maximum kinematics adjustments scheme, variable acceleration and jerk algorithms are first applied to determine the kinematic performance along the tool path. Meanwhile, the jerk-limited feedrate profile is adopted to generate the smooth feedrate profile of the tool path, with which not only the tool tip feedrate, angular feedrate in the WCS, the translational feedrate, and rotatory feedrate in the MCS are constrained, but the axial kinematic limitations in both the WCS and MCS are considered along the whole trajectories. Then, the feedrate profiles are blended to achieve the non-stop motion, with which the tool tip position is blended in the WCS to ensure the machining accuracy, and the tool orientation is blended in the MCS to generate smooth motion of rotatory axes. The smoothing errors of tool tip and tool orientation are well bounded in the WCS with a blending time determination scheme. Henceforth, the paper is organized as follows: Section 2 presents fee-drate scheduling and maximum kinematics determination of five-axis machining. Section 3 gives the variable acceleration and jerk algorithms used in feedrate scheduling. Section 4 proposes the blending time determination method with consideration of the smoothing errors of tool tip and tool orientation, followed by the simulation and experimental verification in Section 5. Finally, the paper is concluded in Section 6.

## 2. Five-axis feedrate blending and maximum kinematics determination

In the five-axis CNC machining, the cutter location generated by the CAM system in the WCS is defined by tool tip point \( {\mathbf{P}}_{w} = {\left\lbrack  {p}_{wx},{p}_{wy},{p}_{wz}\right\rbrack  }^{\mathrm{T}} \) and the tool orientation \( {\mathbf{O}}_{w} = {\left\lbrack  {o}_{wi},{o}_{wj},{o}_{wk}\right\rbrack  }^{\mathrm{T}} \) \( \left\lbrack  {3,{38},{39}}\right\rbrack \) . To calculate the corresponding motion commands in the MCS, the inverse kinematic transformation (IKT) model from the WCS to MCS should be established [4,40]. For a typical table-tilting type

<!-- Meanless: 2-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

<!-- figureText: Offline module Real-time module Section 2 and 4 Section 5 Section 5 Blended feedrate Feedrate scheduling Simulation Calculate blending time Position in WCS Experiment Set limitations Section 2 and 3 \( {J}_{X,Y,Z,A,C} \) \( {a}_{X,Y,Z,A,C} \) Axial limitations Input segments Limited feedrate _____。 Errors tolerances Scheduled jerk/acceleration -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_2.jpg?x=337&y=159&w=1073&h=442&r=0"/>

Fig. 1. The structure of the proposed method,where \( {J}_{x,y,z},{a}_{x,y,z} \) are the axial jerk and acceleration limitations respect to the workpiece, \( {J}_{X,Y,Z,A,C},{a}_{X,Y,Z,A,C} \) are the physical axial jerk and acceleration limitations in the MCS; \( {v}_{o} \) are the limited tool tip feedrate and angular feedrate in the WCS, \( {v}_{nv}{v}_{o} \) are the translational feedrate and rotatory feedrate in the MCS,respectively. On the offline module,the tool tip feedrate \( {v}_{1},{v}_{2} \) ,accelerations \( {a}_{1},{a}_{2} \) ,and jerks \( {J}_{1},{J}_{2} \) along the adjacent linear segments are determined based on the maximum kinematics determination scheme, variable acceleration and jerk algorithms, respectively. On the real-time module, the feedrate scheduling will be applied first,then the blending times \( {T}_{b0},{T}_{b1} \) under smoothing errors are calculated to blend the feedrate profiles. Finally,the interpolation is carried out to drive the experimental system.

<!-- figureText: \( {\mathbf{O}}_{\mathrm{M}} \) \( {\mathbf{O}}_{\mathrm{W}} \) O, FKT 0 0 -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_2.jpg?x=334&y=816&w=1079&h=489&r=0"/>

Fig. 2. The kinematic chain of the table-tilting type five-axis machine tool,where \( {O}_{X},{O}_{Y},{O}_{Z},{O}_{A} \) and \( {O}_{C} \) are the coordinate systems of \( \mathrm{X} - \mathrm{Y} - \mathrm{Z} - ,\mathrm{A} - \) and \( \mathrm{C} - \mathrm{{axis}} \) , respectively, \( {O}_{Mr}{O}_{W} \) are the coordinate systems of machine and workpiece,respectively, \( {O}_{T} \) is the coordinate system of the tool. The inverse kinematic transformation from \( {O}_{W}{\mathrm{{toO}}}_{M} \) is abbreviated to IKT,and the forward kinematic transformation from the \( {O}_{M}{\mathrm{{toO}}}_{W} \) is abbreviated to FKT.

<!-- Media -->

five-axis machine tool shown in Fig. 2, the IKT can be expressed as [2, 3, 26]:

\[\left\lbrack  \begin{matrix} {p}_{mX} \\  {p}_{mY} \\  {p}_{mZ} \end{matrix}\right\rbrack   = \left\lbrack  \begin{matrix} \cos \left( {p}_{mC}\right) &  - \sin \left( {p}_{mC}\right) & 0 \\  \cos \left( {p}_{MA}\right) \sin \left( {p}_{mC}\right) & \cos \left( {p}_{mA}\right) \cos \left( {p}_{mC}\right) &  - \sin \left( {p}_{mA}\right) \\  \sin \left( {p}_{mA}\right) \sin \left( {p}_{mC}\right) & \sin \left( {p}_{mA}\right) \cos \left( {p}_{mC}\right) & \cos \left( {p}_{mA}\right)  \end{matrix}\right\rbrack  \left\lbrack  \begin{matrix} {p}_{mx} + {x}_{um} - {x}_{cm} \\  {p}_{my} + {y}_{my} - {y}_{cm} \\  {p}_{mz} + {z}_{um} - {z}_{cm} \end{matrix}\right\rbrack   + \left\lbrack  \begin{matrix} 1 & 0 & 0 \\  0 & \cos \left( {p}_{mA}\right) &  - \sin \left( {p}_{mA}\right) \\  0 & \sin \left( {p}_{mA}\right) & \cos \left( {p}_{mA}\right)  \end{matrix}\right\rbrack  \left\lbrack  \begin{matrix} {x}_{cm} - {x}_{am} \\  {y}_{cm} - {y}_{am} \\  {z}_{cm} - {z}_{am} \end{matrix}\right\rbrack   + \left\lbrack  \begin{matrix} {x}_{am} \\  {y}_{am} \\  {z}_{am} - {z}_{am} \end{matrix}\right\rbrack  \]

\[{p}_{mA} = \operatorname{acos}\left( k\right) \]

\[{p}_{mC} = \left\{  \begin{matrix} \text{ arbitraryvalue } & \text{ when }k =  \pm  1 \\  \pi /2 & \text{ when }k \neq   \pm  1,j = 0,i > 0 \\   - \pi /2 & \text{ when }k \neq   \pm  1,j = 0,i < 0 \\  \text{ atan2(i,j) } & \text{ other } \end{matrix}\right.  \tag{1}\]

And, the forward kinematic transformation (FKT) from the MCS to WCS can be described as [3, 26]:

\[\left\lbrack  \begin{matrix} {v}_{m1} \\  {v}_{m2} \\  \vdots \\  {v}_{mM} \\  {v}_{m1} \end{matrix}\right\rbrack   = \left\lbrack  \begin{matrix} \cos \left( {p}_{mC}\right) & \cos \left( {p}_{mC}\right) \cos \left( {p}_{mA}\right) & \sin \left( {p}_{mC}\right) \sin \left( {p}_{mA}\right) \\  \sin \left( {p}_{mC}\right) & \cos \left( {p}_{mC}\right) \cos \left( {p}_{mA}\right) & \cos \left( {p}_{mC}\right) \sin \left( {p}_{mA}\right) \\  \cos \left( {p}_{mC}\right) & \cos \left( {p}_{mC}\right) \cos \left( {p}_{mC}\right) & \cos \left( {p}_{mA}\right) \\  \sin \left( {p}_{mA}\right) \sin \left( {p}_{mC}\right) \cos \left( {p}_{mC}\right) & \cos \left( {p}_{mA}\right) & \cos \left( {p}_{mA}\right)  \end{matrix}\right\rbrack  \left\lbrack  \begin{matrix} {p}_{mA} - {x}_{am} \\  {p}_{mA} - {y}_{am} \\  {p}_{mZ} - {z}_{am} - L \end{matrix}\right\rbrack   + \left\lbrack  \begin{matrix} \cos \left( {p}_{mC}\right) & 0 & 0 \\   - \sin \left( {p}_{mC}\right) & \cos \left( {p}_{mC}\right) & 0 \\  0 & 0 & 1 \end{matrix}\right\rbrack  \left\lbrack  \begin{matrix} {x}_{am} - {x}_{am} \\  {y}_{am} - {y}_{am} \\  {z}_{am} - {z}_{am} \end{matrix}\right\rbrack   + \left\lbrack  \begin{matrix} {x}_{cm} - {x}_{am} \\  {y}_{cm} - {y}_{am} \\  {z}_{cm} - {z}_{am} \end{matrix}\right\rbrack   + \left\lbrack  \begin{matrix} {x}_{cm} - {x}_{am} \\  {y}_{cm} - {y}_{am} \\  {z}_{cm} - {z}_{am} \end{matrix}\right\rbrack   \tag{2}\]

where \( {\left\lbrack  {p}_{mX},{p}_{mY},{p}_{mZ},{p}_{mA},{p}_{mC}\right\rbrack  }^{\mathrm{T}} \) is the position of five axes in the MCS, \( {\left\lbrack  {x}_{wm},{y}_{wm},{z}_{wm}\right\rbrack  }^{\mathrm{T}},{\left\lbrack  {x}_{cm},{y}_{cm},{z}_{cm}\right\rbrack  }^{\mathrm{T}},{\left\lbrack  {x}_{cm},{y}_{cm},{z}_{am}\right\rbrack  }^{\mathrm{T}} \) are the coordinates of the origins of the WCS, A-axis, and C-axis in the MCS, respectively.Lis the length of the tool.

To ensure the machining accuracy and the continuity of the rotational axes in the smoothing process, the tool tip point is represented by \( {\mathbf{P}}_{w} = {\left\lbrack  {p}_{wx}{p}_{wy};{p}_{wz}\right\rbrack  }^{\top } \) in the WCS,and the tool orientation is represented by rotatory axes commands \( {\mathbf{R}}_{m} = {\left\lbrack  {p}_{mA},{p}_{mC}\right\rbrack  }^{\top } \) in the MCS by using the IKT in Eq. (1) [3, 7, 16, 26, 41].

<!-- Meanless: 3-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

<!-- figureText: Feedrate Acceleration Jerk \( {\mathrm{t}}_{4} \) \( {\mathbf{t}}_{6} \) \( \mathbf{{IV}} \) VI VII T4 T5 . \( {\tau }_{7} \) \( {J}_{max} \) \( {a}_{max} \) \( {v}_{max} \) \( {\mathrm{t}}_{0} \) \( {\mathrm{t}}_{1} \) \( {\mathbf{t}}_{2} \) \( {\mathrm{t}}_{3} \) \( \mathbf{I} \) II III T1 T3 \( {\tau }_{2} \) - -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_3.jpg?x=148&y=154&w=654&h=547&r=0"/>

Fig. 3. The 7-phase jerk-limited feedrate profile,the maximum feedrate \( {v}_{\max } \) , acceleration \( {a}_{\max } \) ,and jerk \( {J}_{\max } \) are calculated with consideration of the constraints.

<!-- Media -->

### 2.1. Jerk-limited feedrate profile

For the machining process, the dynamic performance of the tool respect to the workpiece has a great influence on both the machine efficiency and machining precision [42, 43]. To reduce the vibration of the tool, flexible feedrate control technologies should be applied. In our study, the jerk-limited feedrate profile is employed, which is widely used in CNC systems for its stability in scheduling and efficiency in computation [24, 37, 44, 45].

The complete jerk-limited feedrate profile can usually be divided into seven phases (I, II, III, IV, V, VI, VII) [37], as illustrated in Fig. 3. Phases I, II, III are defined as the acceleration phase, phase IV is defined as the constant phase, meanwhile, phases V, VI, VII are defined as the deceleration phase.

The jerk profile \( J\left( t\right) \) in Fig. 3 can be written as follows:

\[J\left( t\right)  = \left\{  \begin{array}{ll} {J}_{\max } & {t}_{0} \leq  t < {t}_{1} \\  0 & {t}_{1} \leq  t < {t}_{2} \\   - {J}_{\max } & {t}_{2} \leq  t < {t}_{3} \\  0 & {t}_{3} \leq  t < {t}_{4} \\   - {J}_{\max } & {t}_{4} \leq  t < {t}_{5} \\  0 & {t}_{5} \leq  t < {t}_{6} \\  {J}_{\max } & {t}_{6} \leq  t \leq  {t}_{7} \end{array}\right.  \tag{3}\]

wheretis the absolute time, \( {J}_{\max } \) is the tangential jerk limit, \( {t}_{i}(i = 0,1,\cdots \) , 7) is the critical time of each phase,and \( {T}_{i}\left( {{T}_{i} = {t}_{i} - {t}_{i - 1},i = 1,2,\cdots ,7}\right) \) is the duration of each phase.

Then,the acceleration profile \( a\left( t\right) \) ,feedrate profile \( v\left( t\right) \) ,and displacement profiles(t)are obtained by integrating the jerk profile as follows:

\[a\left( t\right)  = \left\{  \begin{array}{l} {J}_{\max }{\tau }_{1}\;{t}_{0} \leq  t < {t}_{1}{a}_{0} = 0 \\  {a}_{\max }\;{t}_{1} \leq  t < {t}_{2}{a}_{1} = {a}_{\max } = {J}_{\max }{T}_{1} \\  {a}_{\max } - {J}_{\max }{\tau }_{3}\;{t}_{2} \leq  t < {t}_{3}{a}_{2} = {a}_{1} \\  0\;{t}_{3} \leq  t < {t}_{4}{a}_{3} = {a}_{2} - {J}_{\max }{T}_{3} \\   - {J}_{\max }{\tau }_{5}\;{t}_{4} \leq  t < {t}_{5}{a}_{4} = {a}_{3} \\   - {a}_{\max }\;{t}_{5} \leq  t < {t}_{6}{a}_{5} = {a}_{4} - {J}_{\max }{T}_{5} \\   - {a}_{\max } + {J}_{\max }{\tau }_{7}\;{t}_{6} \leq  t \leq  {T}_{7}{a}_{6} = {a}_{5} \\   - {a}_{\max } + {J}_{\max }{\tau }_{7}\;{t}_{7} \leq  t \leq  {T}_{7}{a}_{6} = {a}_{5} \end{array}\right.  \tag{4}\]

\[v\left( t\right)  = \left\{  \begin{array}{ll} {v}_{\mathrm{s}} + \frac{1}{2}{J}_{\max }{\tau }_{1}^{2} & {t}_{0} \leq  t < {t}_{1}\;{v}_{0} = {v}_{\mathrm{s}} \\  {v}_{1} + {a}_{\max }{\tau }_{2} & {t}_{1} \leq  t < {t}_{2}\;{v}_{1} = {v}_{\mathrm{s}} + \frac{1}{2}{J}_{\max }{T}_{1}^{2} \\  {v}_{2} + {a}_{\max }{\tau }_{3} - \frac{1}{2}{J}_{\max }{\tau }_{2}^{2} & {t}_{2} \leq  t < {t}_{3}\;{v}_{2} = {v}_{1} + {a}_{\max }{T}_{2} \\  {v}_{3} & {t}_{3} \leq  t < {t}_{4}\;{v}_{3} = {v}_{t} = {v}_{2} + \frac{1}{2}{J}_{\max }{T}_{1}^{2} \\  {v}_{4} - \frac{1}{2}{J}_{\max }{\tau }_{5}^{2} & {t}_{4} \leq  t < {t}_{5}\;{v}_{4} = {v}_{5} = {v}_{t} \\  {v}_{5} - {a}_{\max }{\tau }_{6}^{2} & {t}_{5} \leq  t < {t}_{6}\;{v}_{5} = {v}_{6} - \frac{1}{2}{J}_{\max }{T}_{2}^{2} \\  {v}_{6} - {a}_{\max }{\tau }_{6}^{2} & {t}_{6} \leq  t < {t}_{6}\;{v}_{5} = {v}_{6} - {a}_{\max }{T}_{2}^{2} \\  {v}_{7} & {v}_{7} \leq  {v}_{6} \leq  {v}_{7} \leq  {v}_{6} + {v}_{7} \leq  {v}_{6} \leq  {v}_{7} + {v}_{7} \leq  {v}_{8} + {v}_{9} \leq  {v}_{10}. \end{array}\right.  \tag{5}\]

\[s\left( t\right)  = \left\{  \begin{array}{lll} {v}_{s}{x}_{1} + \frac{1}{6}{J}_{\max }{\tau }_{1}^{3} & {t}_{0} \leq  t < {t}_{1}\;{s}_{0} = 0 & \\  {s}_{1} + {v}_{1}{\tau }_{2} + \frac{1}{2}{a}_{\max }{\tau }_{2}^{2} & {t}_{1} \leq  t < {t}_{2}\;{s}_{1} = {v}_{s}{S}_{1} + \frac{1}{6}{J}_{\max }{T}_{1}^{3} & \\  {s}_{2} + {v}_{2}{\tau }_{3} + \frac{1}{2}{a}_{\max }{\tau }_{2}^{2} &  - \frac{1}{6}{J}_{\max }{\tau }_{3}^{3} & {t}_{2} \leq  t < {t}_{3}\;{s}_{2} \\   = {s}_{1} + {v}_{1}{T}_{2} + \frac{1}{2}{a}_{\max }{T}_{2}^{2} & {t}_{3} \geq  t < {t}_{4}\;{s}_{3} = {s}_{2} + {v}_{2}{T}_{3}^{1} + \frac{1}{3}{J}_{\max }{T}_{1}^{3} & \\  {s}_{1} + {v}_{1}{\tau }_{4} + \frac{1}{2}{a}_{\max }{T}_{2}^{2} & {t}_{3} < {t}_{2} + {v}_{2}{T}_{3}^{1} + \frac{1}{6}{J}_{\max }{T}_{1}^{3} & \\  {s}_{1} + {v}_{1}{\tau }_{5} - \frac{1}{2}{a}_{\max }{T}_{2}^{3} & {t}_{3} < t < {t}_{5}\;{s}_{3} < {s}_{4} + {v}_{4}{T}_{5}^{1} - \frac{1}{6}{J}_{\max }{T}_{5}^{3} & \\  {s}_{1} + {v}_{1}{\tau }_{6} - \frac{1}{2}{a}_{\max }{T}_{2}^{2} & {t}_{3} < {t}_{5}\;{s}_{4} + {v}_{4}{T}_{5}^{2} - \frac{1}{6}{J}_{\max }{T}_{5}^{3} & \\  {s}_{1} + {v}_{1}{\tau }_{7} & {s}_{1} + {v}_{1}{\tau }_{7} - \frac{1}{6}{a}_{\max }{T}_{5}^{2} & {t}_{3} < {t}_{5} + {v}_{5}{\tau }_{6} \\  {s}_{1} + {v}_{1}{\tau }_{7} & {s}_{1} + {v}_{1}{\tau }_{7} - \frac{1}{6}{a}_{\max }{T}_{5}^{2} & {s}_{1} + {v}_{1}{\tau }_{7} - \frac{1}{6}{a}_{\max }{T}_{5}^{3} \\   & &  \end{array}\right.  \tag{6}\]

where \( {a}_{\max } \) is the tangential acceleration limit, \( {\tau }_{i}\left( {{\tau }_{i} = t - {t}_{i - 1},i = 1,2}\right. \) , ..., 7) is the integration variable that represents local time coordinate of each phase, \( {v}_{s} \) is the starting feedrate, \( {v}_{e} \) is the ending feedrate, \( {v}_{t} \) is the target feedrate, \( {v}_{i}\left( {i = 1,2,\cdots ,7}\right) \) is the critical feedrate,and \( {s}_{i}(i = 1,2,\cdots \) , 7) is the critical displacement.

From the nature of the acceleration profile, the acceleration limit reached in the time duration \( {T}_{j} \) ,and the following equation will be satisfied:

\[{a}_{\max } = {J}_{\max }{T}_{j} \rightarrow  {T}_{j} = {a}_{\max }/{J}_{\max } \tag{7}\]

For the full-stop motion \( \left( {{v}_{s} = {v}_{e} = 0}\right) \) at the joint of a linear segment with the same maximum acceleration and jerk, the scheduled feedrate profile is symmetrical. According to the symmetry of the feedrate profile, the durations of Phases I,III,V,and VII are equal \( \left( {{T}_{1} = {T}_{3} = {T}_{5} = {T}_{7}}\right) \) , and the durations of Phases II and VI are equal \( \left( {{T}_{2} = {T}_{6}}\right) \) . Therefore, feedrate profiles could be classified into four types based on the different initial conditions [24], as shown in Fig. 4. Therefore, if the initial conditions are known for \( {J}_{\text{max }},{T}_{j},{v}_{s},{v}_{e} \) ,and the tool path length \( S \) ,then, the critical states \( {t}_{i},{v}_{i},{a}_{i},{J}_{i} \) and \( {s}_{i} \) of each phase can be calculated [24,37].

### 2.2. Feedrate blending based on tool tip mastered planning

During the interpolation of the five-axis machining, the position of tool tip must be interpolated linearly between successive points, which is treated as the master motion. The position of tool orientation is interpolated synchronously between successive tool orientation points, which is treated as the slave motion by share the same parameter with the tool tip [14, 46].

As shown in Fig. 5, the starting and ending tool position of a G-line \( \operatorname{are}\left\lbrack  {{\mathbf{P}}_{0},{\mathbf{R}}_{0}}\right\rbrack \) and \( \left\lbrack  {{\mathbf{P}}_{1},{\mathbf{R}}_{1}}\right\rbrack \) ,respectively, \( {\mathbf{P}}_{i} \) is an interpolation point located on the linear tool tip in the WCS. To ensure the synchronized motion of tool orientation,the corresponding position of rotatory axes \( {\mathbf{R}}_{i} \) is calculated as:

\[{\mathbf{R}}_{i} = {\mathbf{R}}_{0} + \begin{Vmatrix}{{\mathbf{R}}_{0}{\mathbf{R}}_{i}}\end{Vmatrix} \cdot  {\overrightarrow{r}}_{1}\]

\[\frac{\begin{Vmatrix}{\mathbf{P}}_{0}{\mathbf{P}}_{i}\end{Vmatrix}}{\begin{Vmatrix}{\mathbf{P}}_{0}{\mathbf{P}}_{1}\end{Vmatrix}} = \frac{\begin{Vmatrix}{\mathbf{R}}_{0}{\mathbf{R}}_{i}\end{Vmatrix}}{\begin{Vmatrix}{\mathbf{R}}_{0}{\mathbf{R}}_{1}\end{Vmatrix}} \tag{8}\]

where \( {\overrightarrow{r}}_{1} \) is the unit vector of the rotatory path.

Based on the jerk-limited feedrate scheduling algorithm mentioned in Section 2.1, the feedrate profiles of successive segments can be generated. To improve the machining efficiency and realize the continuously interpolating, the feedrate profiles of adjacent segments are blended as shown in Fig. 6(b). When the first segment is decelerating to the time \( {t}_{s} \) ,the acceleration of the second segment starts at the same time until the interpolation of the first segment finished at the time \( {t}_{e} \) . Thus, the feedrate along the two adjacent segments are blended in the period time \( \left\lbrack  {{t}_{s},{t}_{e}}\right\rbrack \) ,which results in a smooth trajectory at the sharp corner with non-stop motion. \( \left\lbrack  {{t}_{s},{t}_{e}}\right\rbrack \) is defined as the blending time \( {T}_{b}.{\mathbf{P}}_{a},{\mathbf{P}}_{b} \) are the starting point and ending point of the blending process, respectively. To preferably realize feedrate blending for linear segments, the corner time is limited to no longer than the duration of the deceleration phase of the first segment or the duration of the acceleration phase of the second segment.

<!-- Meanless: 4-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

<!-- figureText: (a) (b) \( {\mathrm{t}}_{0} \) \( {\mathbf{t}}_{3} \) \( {\mathrm{t}}_{4} \) \( {t}_{5} \) III IV V VII (d) \( {\mathrm{t}}_{0} \) \( {\mathrm{t}}_{3} \) \( {\mathbf{t}}_{5} \) \( \mathbf{I} \) III VII Acceleration Jerk \( {\mathrm{t}}_{0} \) \( {\mathrm{t}}_{1} \) \( {\mathrm{t}}_{2} \) \( {\mathbf{t}}_{3} \) \( {t}_{5} \) II III IV V VI (c) \( {\mathrm{t}}_{0} \) \( {\mathrm{t}}_{3} \) \( \mathbf{I} \) II III V VI VII Feedrate -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_4.jpg?x=92&y=158&w=1088&h=904&r=0"/>

Fig. 4. Four types of the scheduled feedrate profile with full-stop motion at the joint. (a) the feedrate profile with complete 7 phases; (b) the feedrate profile without phases II and VI; (c) the feedrate profile without phase IV; (d) the feedrate profile without phases II, IV, and VI.

<!-- figureText: \( {y}_{w} \) \( {\mathbf{R}}_{0} \) Rotate ry motion \( {\mathbf{R}}_{i} \) \( {R}_{1} \) \( {o}_{\lambda } \) Equation 2 \( {O}_{1} \) 0 \( {O}_{0} \) Linea \( {\mathbf{P}}_{1} \) \( {\mathbf{P}}_{0} \) \( {o}_{W} \) \( {x}_{w} \) -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_4.jpg?x=101&y=1157&w=938&h=509&r=0"/>

Fig. 5. Synchronized motion of tool tip and tool orientation, where the tool orientation \( {\mathbf{O}}_{i} \) is calculated by the rotatory axes commands \( {\mathbf{R}}_{i} \) based on Eq. (2),and \( {\mathbf{R}}_{i} \) can be generated based on Eq. (8).

<!-- Media -->

Owing to the synchrony of tool tip and tool orientation, the feedrate of tool orientation is also blended when the feedrate of tool tip is blended as illustrated in Fig. 6. Thus, the whole tool path is smoothed with the feedrate blending process. However, in the blending process, the axial kinematic performance is changed own to the overlapping of the fee-drate profiles, and the tool tip and tool orientation errors in the WCS are generated, where the tool tip error is defined as the perpendicular distance from the smoothed tool tip path to the original tool tip path, meanwhile, the tool orientation error is defined as the angular deviation from the smoothed tool orientation to the original one. Note that the tool orientation is represented by rotatory commands in the MCS, to limit the tool orientation error generated in the WCS, the relation between the tool orientation errors in the WCS and MCS will be established, which is introduced in Section 4.2. Therefore, both the smoothing errors of tool tip and tool orientation in the WCS, and axial kinematic constraints are needed to be considered in \( t \) he five-axis blending process.

<!-- Meanless: 5-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

<!-- figureText: (b) Blending of tool-tip Tool-tip error (d) Tool-orientation error \( {F}_{ev} \) Tool-tip error Blending of tool-orientation Blending trajectory Second segment First Second (a) Original tool orientation (c) Original \( {F}_{eq} \) Tool tip First segment -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_5.jpg?x=99&y=153&w=1079&h=701&r=0"/>

Fig. 6. The blending process of tool tip and tool orientation. (a) the original tool path; (b) feedrate blending process of tool tip path; (c) feedrate blending process of tool orientation path; (d) the blending tool path, where the tool tip blending process is starting at the point \( {\mathbf{P}}_{a} \) and ending at the point \( {\mathbf{P}}_{b} \) ,meanwhile the rotatory paths are blended from point \( {\mathbf{R}}_{a} \) to point \( {\mathbf{R}}_{b} \) ,which is corresponded to the tool orientation blending process from \( {\mathbf{O}}_{a} \) to \( {\mathbf{O}}_{b} \) . \( \begin{Vmatrix}{{\mathbf{P}}_{1}{\mathbf{P}}_{e}}\end{Vmatrix} \) is the tool tip error,the angular deviation between vectors \( {\mathbf{O}}_{1} \) and \( {\mathbf{O}}_{e} \) is the tool orientation error. \( {\mathbf{O}}_{e} \) is the unit vector correspond to \( {\mathbf{R}}_{e}.\overline{{\mathbf{P}}_{1}{\mathbf{P}}_{e}},\overline{{\mathbf{R}}_{1}{\mathbf{R}}_{e}} \) are perpendicular to the tangent vector of the blending trajectory at the point \( {\mathbf{P}}_{e},{\mathbf{R}}_{e} \) ,respectively.

<!-- Media -->

### 2.3. Determination of maximum kinematics in the WCS based on the physical constraints

The feedrate scheduling is applied in the WCS, which will limit the dynamic performance of the tool respect to the workpiece. Besides, because of the physical realization of the drives, the kinematic constraints in the MCS should be considered.

##### 2.3.1.The relationship between the tool tip kinematics in the WCS and physical rotatory constraints

The tool tip feedrate \( v \) and angular feedrate \( \omega \) in the WCS,together with translational feedrate \( {v}_{m} \) and the rotatory feedrate \( {v}_{\omega } \) in the MCS [26, 46] are defined as follows, respectively.

\[v = \sqrt{{v}_{x}^{2} + {v}_{y}^{2} + {v}_{z}^{2}} \tag{9}\]

\[\omega  = \parallel d\mathbf{O}/{dt}\parallel  = \parallel \left\lbrack  \begin{matrix} \cos \left( {p}_{mA}\right)  \cdot  \sin \left( {p}_{mC}\right) & \sin \left( {p}_{mA}\right)  \cdot  \cos \left( {p}_{mC}\right) \\  \cos \left( {p}_{mA}\right)  \cdot  \cos \left( {p}_{mC}\right) &  - \sin \left( {p}_{mA}\right)  \cdot  \sin \left( {p}_{mC}\right) \\   - \sin \left( {p}_{mA}\right) & 0 \end{matrix}\right\rbrack  \]

\[\left\lbrack  \begin{array}{l} {\omega }_{A} \\  {\omega }_{C} \end{array}\right\rbrack  \parallel  = \sqrt{{\omega }_{A}^{2} + {\omega }_{C}^{2} \cdot  {\sin }^{2}\left( {p}_{mA}\right) } \tag{10}\]

\[{v}_{\omega } = \sqrt{{\omega }_{A}^{2} + {\omega }_{C}^{2}} \tag{11}\]

\[{v}_{m} = \sqrt{{v}_{X}^{2} + {v}_{Y}^{2} + {v}_{Z}^{2}} \tag{12}\]

where \( {v}_{x},{v}_{y},{v}_{z} \) are the axial feedrate of the translational axis in the WCS, \( {v}_{X},{v}_{Y},{v}_{Z} \) are the axial feedrate of the translational axis in the MCS, \( {\omega }_{A},{\omega }_{C} \) are the rotatory axial feedrate in the MCS.

For the movement of the tool tip determines the motion of tool orientation, the following relationship of the segment can be obtained as:

\[\frac{{v}_{\omega 1}}{{v}_{1}} = \frac{\sqrt{{\omega }_{A1}^{2} + {\omega }_{C1}^{2}}}{{v}_{1}} = \frac{\begin{Vmatrix}{\mathbf{R}}_{0}{\mathbf{R}}_{1}\end{Vmatrix}}{\begin{Vmatrix}{\mathbf{P}}_{0}{\mathbf{P}}_{1}\end{Vmatrix}} = {\eta }_{1} \tag{13}\]

Taking A-axis and C-axis into consideration individually, the feedrate of A-axis \( {\omega }_{A1} \) and C-axis \( {\omega }_{C1} \) along the segment [47] can be expressed as:

\[{\omega }_{{A}_{1}} = \frac{\Delta {A}_{1} \cdot  v}{{l}_{1}} \tag{14}\]

\[{\omega }_{{C}_{1}} = \frac{\Delta {C}_{1} \cdot  v}{{l}_{1}}\]

where \( \Delta {A}_{1},\Delta {C}_{1} \) are the displacements of the two rotatory axes of the first segment, \( {l}_{1} \) is the translational displacement of the first segment.

Therefore,the accelerations \( {a}_{1},{a}_{\omega 1} \) and jerks \( {J}_{1},{J}_{\omega 1} \) along the first segment can be expressed as:

\[\frac{{a}_{\omega 1}}{{a}_{1}} = \frac{\left( {{v}_{\omega \left( {i + 1}\right) } - {v}_{\omega i}}\right) /T}{\left( {{v}_{i + 1} - {v}_{i}}\right) /T} = {\eta }_{1} \tag{15}\]

\[\frac{{J}_{\omega 1}}{{J}_{1}} = \frac{\left( {{a}_{\omega \left( {i + 1}\right) } - {a}_{\omega i}}\right) /T}{\left( {{a}_{i + 1} - {a}_{i}}\right) /T} = {\eta }_{1}\]

where \( T \) is the interpolation period, \( {v}_{i},{v}_{\omega i} \) are the tool tip feedrate and rotatory feedrate at the time \( {iT} \) ,respectively.

#### 2.3.2. Maximum axial constraints in the WCS based on the translational physical kinematics

The key to controlling the translational axial kinematics in the MCS is to map the corresponding constraints from the MCS to WCS. There are three ways to generate the relationship: (a) Differentiating the FKT with respect to time \( \left\lbrack  {7,{26}}\right\rbrack \) . This method can generate a stringent manner to limit the possible axial constraints, but the expressions are really complicated. Therefore, the researchers usually designate the critical points [7] or middle points [26] of the toolpath to get the approximate solutions; (b) Iteratively adjusting the kinematic performance in feedrate scheduling until all the physical axial limits are respected [52,53]. With the iterative process, the axial limitation can be satisfied, but it will highly increase the computation load [46]; (c) Establishing a predictive model based on the physical axial position increases [46,54]. In this paper, the predictive model is selected due to its satisfactory results and low computational burden.

As illustrated in Fig. 7,each programmed point \( {\mathbf{P}}_{i} \) in the WCS corresponds to one target position \( {\mathbf{P}}_{mi} \) in the MCS based on IKT. The move during \( \Delta {t}_{i} \) from \( {\mathbf{P}}_{i} \) to \( {\mathbf{P}}_{i + 1} \) in the WCS is defined as:

\[\Delta {t}_{i} = \frac{\begin{Vmatrix}{\mathbf{P}}_{i}{\mathbf{P}}_{i + 1}\end{Vmatrix}}{v} = \frac{{l}_{i}}{v} \tag{16}\]

And,the time to go from \( {\mathbf{P}}_{mi} \) to \( {\mathbf{P}}_{{mi} + 1} \) in the MCS is also \( \Delta {t}_{i} \) . Therefore, for each segment in the WCS, the feedrate in the MCS can be approximately expressed as:

\[{v}_{m} = \frac{\begin{Vmatrix}{\mathbf{P}}_{mi}{\mathbf{P}}_{{mi} + 1}\end{Vmatrix}}{\Delta {t}_{i}} = \frac{{l}_{mi}}{\Delta {t}_{i}} \tag{17}\]

Note that, the feedrate in the MCS is adapted for linear interpolation with a predictive model. Thus, the differences may appear. If a better approximation of the actual feedrate in the MCS is required, the sampling points could be increased as shown in Fig. 7. In this paper, the programmed points and middle points are selected to estimate the actual feedrate in the MCS.

<!-- Meanless: 6-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

Fig. 7. The interpolation of the tool path. (a) the original tool path in the WCS; (b) the corresponding interpolation points in the MCS,where \( {\mathbf{P}}_{0},{\mathbf{P}}_{1},{\mathbf{P}}_{2} \) are the programmed tool tip point in the WCS, \( {\mathbf{P}}_{m0},{\mathbf{P}}_{m1},{\mathbf{P}}_{m2} \) are the corresponding points calculated with the IKT.

<!-- figureText: (a) (b) \( {P}_{\mathrm{m}0} \) \( {\mathbf{P}}_{\mathbf{m}1} \) Z \( {P}_{\mathrm{m}2} \) Programmed Trajectory Approximate linear interpolation in the MCS \( {R}_{\mathrm{a}} \) segments. \( {v}_{\omega l} \) \( {v}_{\omega 2} \) \( {R}_{1} \) Second segment \( {P}_{1} \) IKT Sampling points \( {O}_{n} \) \( {\mathbf{P}}_{2} \) Programmed tool path in the WCS in the MCS (a) (b) \( {P}_{1} \) \( {v}_{2} \) \( {O}_{y} \) \( x \) \( {O}_{m} \) First segment Blended trajectory -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_6.jpg?x=99&y=154&w=1081&h=905&r=0"/>

Fig. 8. Velocity along the blending trajectory. (a) the tool tip path; (b) the rotatory path, where the tool tip velocityvalong the blended trajectory is the addition of velocity \( {v}_{1} \) and \( {v}_{2} \) along the tool tip paths of first and second segments, and the rotatory velocity \( {v}_{\omega } \) along the blended trajectory is the addition of velocity \( {v}_{\omega 1} \) and \( {v}_{\omega 2} \) along the rotatory paths of first and second

<!-- Media -->

Based on Eqs. (16) and (17),the maximum feedrate \( {v}_{\max } \) in the WCS can be estimated as:

\[{v}_{\max } = \min \left( {\frac{{l}_{i}}{{l}_{mi}}{v}_{mf},{v}_{f}}\right)  \tag{18}\]

where, \( {v}_{f},{v}_{mf} \) are the programmed feedrate in the WCS and MCS,respectively.

In similar procedures, the maximal axial constraints for each segment in the WCS can be integrated into the following model:

\[{a}_{{\Omega }_{\max }} = \min \left( {\frac{{l}_{\Omega i}}{{l}_{m\Omega i}}{a}_{m{\Omega }_{\max }},{a}_{{\Omega }_{\max }}}\right)  \tag{19}\]

\[{J}_{{\Omega }_{\max }} = \min \left( {\frac{{l}_{\Omega i}}{{l}_{m\Omega i}}{J}_{m{\Omega }_{\max }},{J}_{{\Omega }_{\max }}}\right) \]

where, \( \Omega \) is \( \mathrm{x} - ,\mathrm{y} - \) and \( \mathrm{z} - \) axis in the WCS, \( {m\Omega } \) is \( \mathrm{X} - ,\mathrm{Y} - \) ,and \( \mathrm{Z} - \) axis in the MCS. \( {a}_{m{\Omega }_{\max }} \) and \( {J}_{m{\Omega }_{\max }} \) are the axial acceleration and jerk limitations in the MCS. \( {a}_{{\Omega }_{\max }} \) and \( {J}_{{\Omega }_{\max }} \) are the axial acceleration and jerk limitations in the WCS.

#### 2.3.3. Maximum tool tip feedrate adjustment based on specified rotatory and angular feedrate

The velocity along the blending trajectory is the addition of the two velocity vectors of the two segments as shown in Fig. 8, which can be expressed as follows:

\[\overrightarrow{v} = {\overrightarrow{v}}_{1} + {\overrightarrow{v}}_{2} \tag{20}\]

\[{\overrightarrow{v}}_{\omega } = {\overrightarrow{v}}_{\omega 1} + {\overrightarrow{v}}_{\omega 2}\]

where \( {\overrightarrow{v}}_{1},{\overrightarrow{v}}_{2} \) and \( {\overrightarrow{v}}_{\omega 1},{\overrightarrow{v}}_{\omega 2} \) are the tool tip velocity and rotatory velocity along the adjacent segments,respectively. \( \overrightarrow{v} \) and \( {\overrightarrow{v}}_{\omega } \) are the tool tip velocity and rotatory velocity along the blended trajectories.

Thus,the tool tip feedrate \( v \) and rotatory feedrate \( {v}_{\omega } \) along the blended trajectories can be determined as:

\[v = \parallel \overrightarrow{v}\parallel  = \sqrt{{\begin{Vmatrix}{\overrightarrow{v}}_{1}\end{Vmatrix}}^{2} + {\begin{Vmatrix}{\overrightarrow{v}}_{2}\end{Vmatrix}}^{2} - 2\begin{Vmatrix}{\overrightarrow{v}}_{1}\end{Vmatrix}\begin{Vmatrix}{\overrightarrow{v}}_{2}\end{Vmatrix}\cos \left( \theta \right) } \tag{21}\]

\[{v}_{\omega } = \begin{Vmatrix}{\overrightarrow{v}}_{\omega }\end{Vmatrix} = \sqrt{{\begin{Vmatrix}{\overrightarrow{v}}_{\omega 1}\end{Vmatrix}}^{2} + {\begin{Vmatrix}{\overrightarrow{v}}_{\omega 2}\end{Vmatrix}}^{2} - 2\begin{Vmatrix}{\overrightarrow{v}}_{\omega 1}\end{Vmatrix}\begin{Vmatrix}{\overrightarrow{v}}_{\omega 2}\end{Vmatrix}\cos \left( {\theta }_{\omega }\right) }\]

where \( \theta  = \angle {P}_{\mathrm{a}}{P}_{1}{P}_{2} \) ,and \( {\theta }_{\omega } = \angle {R}_{\mathrm{a}}{R}_{1}{R}_{2} \) .

Based on Eq (21), it can be demonstrated that the maximum fee-drate will occur when two velocity vectors are in the same direction. Therefore, as long as the feedrate generated by two velocity vectors in the same direction could be controlled within the specified values, the actual feedrate in the blending process would not exceed the allowable limits. As above mentioned, the blending time is controlled within the deceleration phase of the first segment or acceleration phase of the second segment. Therefore, the acceleration along the tool trajectory, generated by two segments in the same direction, will be negative first, and then it becomes positive, as illustrated in Fig. 9. It means the maximum feedrate will occurs at the start or the end of the blending process, thus the feedrate in the blending process will be limited within the maximum feedrate. Therefore, if the maximum tool tip feedrate, rotatory feedrate, and angular feedrate are limited in original feedrate scheduling, the corresponding feedrate after blending will not exceed the specified values.

Based on Eqs. (10) and (11), the following expression can be generated:

\[{\omega }^{2} = {v}_{mA}^{2} + {v}_{mC}^{2} \cdot  {\sin }^{2}\left( {p}_{mA}\right)  < {\omega }_{mA}^{2} + {\omega }_{mC}^{2} = {v}_{\omega }^{2} \tag{22}\]

As can be seen that if the limited rotatory feedrate \( {v}_{\omega } \) is smaller than the given maximum angular feedrate \( {\omega }_{\max } \) ,the actual maximum angular feedrate \( \omega \) must be constrained. However,the above determined angular feedrate is usually much smaller than the limited value, because \( \sin \left( {p}_{mA}\right)  \leq  1 \) ,which will generate a low allowable tool tip feedrate according to Eq. (13). Thus, it will lead to longer cycle time and unnecessary efficiency loss. To tackle the problem, another algorithm is proposed in this section to gain an optimal angular feedrate and tool tip feedrate.

<!-- Meanless: 7-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

<!-- figureText: (a) \( {t}_{e} \) Blended trajectory Second segment (b) First segment -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_7.jpg?x=150&y=158&w=649&h=704&r=0"/>

Fig. 9. Addition of feedrate and acceleration in the same direction. (a) the fee-drate; (b) the acceleration, where the blended acceleration \( a \) is the addition of the accelerations \( {a}_{1} \) and \( {a}_{2} \) along the adjacent two segments.

<!-- Media -->

Take the first segment as an example, the following expression of angular feedrate \( {\omega }_{1} \) can be obtained,based on Eqs. (13) and (14).

\[{\omega }_{1} = \sqrt{\frac{{v}_{1}^{2}\Delta {A}_{1}^{2}}{{l}_{1}^{2}} + \frac{{v}_{1}^{2}\Delta {C}_{1}^{2}}{{l}_{1}^{2}} \cdot  {\sin }^{2}\left( {p}_{mA}\right) } = \frac{{v}_{1}}{{l}_{1}}\sqrt{\Delta {A}_{1}^{2} + \Delta {C}_{1}^{2} \cdot  {\sin }^{2}\left( {p}_{mA}\right) } \tag{23}\]

To limit the tool tip feedrate and angular feedrate, the maximum absolute value ofsin(A)of the corresponding segment is selected to obtain the constrained tool tip feedrate \( {v}_{1,\max } \) as follows:

\[{v}_{1,\max } = \frac{{\omega }_{\max }{l}_{1}}{\sqrt{\Delta {A}_{1}^{2} + \Delta {C}_{1}^{2} \cdot  \max \left( {{\sin }^{2}\left( {p}_{mA}\right) }\right) }} \tag{24}\]

\[{v}_{1,\omega } = \left\{  \begin{array}{l} {v}_{1,\max },{v}_{1,\max } \leq  {v}_{1} \\  F,{v}_{1,\max } > F \end{array}\right. \]

where \( F \) is the programmed feedrate, \( {v}_{1,\omega } \) is the limited tool tip feedrate under the \( F \) and \( {\omega }_{\max } \) .

It should be noticed that \( {v}_{1,\omega } \) is obtained based on Eq. (23),where only the angular feedrate of the tool orientation is considered. If the rotatory feedrate is also needed to be constrained, the following equation should

be satisfied based on Eq. (13):

\[{v}_{1,{v}_{\omega }} = \left\{  \begin{array}{l} \frac{{v}_{\omega \max }}{{\eta }_{1}},{\eta }_{1} \cdot  {v}_{1} \geq  {v}_{\omega \max } \\  F,{\eta }_{1} \cdot  F < {v}_{\omega 1} \end{array}\right.  \tag{25}\]

where \( {v}_{\omega \max } \) is the maximum rotatory feedrate, \( {v}_{1,{v}_{m}} \) is the limited fee-drate under the \( F \) and \( {v}_{\omega \max } \) .

Thus, the limited tool tip feedrate with consideration of the programmed feedrate, maximum angular feedrate, and rotatory feedrate can be expressed as:

\[{v}_{1} = \min \left( {{v}_{1,\omega }{v}_{1,{v}_{\omega }}}\right)  \tag{26}\]

## 3. Variable acceleration and jerk for feedrate scheduling

In the machining process, not only the feedrate but the axial acceleration and jerk along the path have a great influence on the machining precision \( \left\lbrack  {{48},{49}}\right\rbrack \) . Therefore,the axial dynamic performances along the path should be limited in the blending process.

As depicted in Fig. 10, the axial velocity in the WCS on the blending trajectory can be expressed by the axial feedrate on the adjacent two linear segments as follows:

\[\left\lbrack  \begin{array}{l} {v}_{x} \\  {v}_{y} \\  {v}_{z} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{l} {v}_{x1} \\  {v}_{y1} \\  {v}_{z1} \end{array}\right\rbrack   + \left\lbrack  \begin{array}{l} {v}_{x2} \\  {v}_{y2} \\  {v}_{z2} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{ll} \cos \left( {\alpha }_{1}\right) & \cos \left( {\alpha }_{2}\right) \\  \cos \left( {\beta }_{1}\right) & \cos \left( {\beta }_{2}\right) \\  \cos \left( {\gamma }_{1}\right) & \cos \left( {\gamma }_{2}\right)  \end{array}\right\rbrack  \left\lbrack  \begin{array}{l} {v}_{1} \\  {v}_{2} \end{array}\right\rbrack   \tag{27}\]

\[\left\lbrack  \begin{array}{l} {v}_{A} \\  {v}_{C} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{l} {v}_{A1} \\  {v}_{C1} \end{array}\right\rbrack   + \left\lbrack  \begin{array}{l} {v}_{A2} \\  {v}_{C2} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{ll} \cos \left( {\alpha }_{\omega 1}\right) & \cos \left( {\alpha }_{\omega 2}\right) \\  \cos \left( {\gamma }_{\omega 1}\right) & \cos \left( {\gamma }_{\omega 2}\right)  \end{array}\right\rbrack  \left\lbrack  \begin{array}{l} {v}_{\omega 1} \\  {v}_{\omega 2} \end{array}\right\rbrack  \]

where \( {v}_{i1} \) and \( {v}_{i2}\left( {i = x,y,z,A,C}\right) \) are the axial feedrate of the first segment and second segment, respectively. \( {\left\lbrack  \cos \left( {\alpha }_{1}\right) ,\cos \left( {\beta }_{1}\right) ,\cos \left( {\gamma }_{1}\right) \right\rbrack  }^{T} \) and \( {\left\lbrack  \cos \left( {\alpha }_{2}\right) ,\cos \left( {\beta }_{2}\right) ,\cos \left( {\gamma }_{2}\right) \right\rbrack  }^{T} \) are the unit vector of the adjacent tool tip paths. \( {\left\lbrack  \cos \left( {\alpha }_{\omega 1}\right) ,\cos \left( {\gamma }_{\omega 1}\right) \right\rbrack  }^{T} \) and \( {\left\lbrack  \cos \left( {\alpha }_{\omega 2}\right) ,\cos \left( {\gamma }_{\omega 2}\right) \right\rbrack  }^{T} \) are the unit vector of the adjacent rotatory paths.

Then, the acceleration and jerk of each axis in the blending process can be obtained.

\[\left\lbrack  \begin{array}{l} {a}_{x} \\  {a}_{y} \\  {a}_{z} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{l} d{v}_{x}/{dt} \\  d{v}_{y}/{dt} \\  d{v}_{z}/{dt} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{l} {a}_{x1} \\  {a}_{y1} \\  {a}_{z1} \end{array}\right\rbrack   + \left\lbrack  \begin{array}{l} {a}_{x2} \\  {a}_{y2} \\  {a}_{z2} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{ll} \cos \left( {\alpha }_{1}\right) & \cos \left( {\alpha }_{2}\right) \\  \cos \left( {\beta }_{1}\right) & \cos \left( {\beta }_{2}\right) \\  \cos \left( {\gamma }_{1}\right) & \cos \left( {\gamma }_{2}\right)  \end{array}\right\rbrack  \left\lbrack  \begin{array}{l} {a}_{1} \\  {a}_{2} \end{array}\right\rbrack   \tag{28}\]

\[\left\lbrack  \begin{array}{l} {a}_{A} \\  {a}_{C} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{l} d{v}_{A}/{dt} \\  d{v}_{C}/{dt} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{l} {a}_{A1} \\  {a}_{C1} \end{array}\right\rbrack   + \left\lbrack  \begin{array}{l} {a}_{A2} \\  {a}_{C2} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{ll} \cos \left( {\alpha }_{\omega 1}\right) & \cos \left( {\alpha }_{\omega 2}\right) \\  \cos \left( {\gamma }_{\omega 1}\right) & \cos \left( {\gamma }_{\omega 2}\right)  \end{array}\right\rbrack  \left\lbrack  \begin{array}{l} {a}_{\omega 1} \\  {a}_{\omega 2} \end{array}\right\rbrack  \]

\[\left\lbrack  \begin{array}{l} {J}_{x} \\  {J}_{y} \\  {J}_{z} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{l} d{a}_{x}/{dt} \\  d{a}_{y}/{dt} \\  d{a}_{z}/{dt} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{l} {J}_{x1} \\  {J}_{y1} \\  {J}_{z1} \end{array}\right\rbrack   + \left\lbrack  \begin{array}{l} {J}_{x2} \\  {J}_{y2} \\  {J}_{z2} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{ll} \cos \left( {\alpha }_{1}\right) & \cos \left( {\alpha }_{2}\right) \\  \cos \left( {\beta }_{1}\right) & \cos \left( {\beta }_{2}\right) \\  \cos \left( {\gamma }_{1}\right) & \cos \left( {\gamma }_{2}\right)  \end{array}\right\rbrack  \left\lbrack  \begin{array}{l} {J}_{1} \\  {J}_{2} \end{array}\right\rbrack   \tag{29}\]

\[\left\lbrack  \begin{array}{l} {J}_{A} \\  {J}_{C} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{l} d{a}_{A}/{dt} \\  d{a}_{C}/{dt} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{l} {J}_{A1} \\  {J}_{C1} \end{array}\right\rbrack   + \left\lbrack  \begin{array}{l} {J}_{A2} \\  {J}_{C2} \end{array}\right\rbrack   = \left\lbrack  \begin{array}{ll} \cos \left( {\alpha }_{\omega 1}\right) & \cos \left( {\alpha }_{\omega 2}\right) \\  \cos \left( {\gamma }_{\omega 1}\right) & \cos \left( {\gamma }_{\omega 2}\right)  \end{array}\right\rbrack  \left\lbrack  \begin{array}{l} {J}_{\omega 1} \\  {J}_{\omega 2} \end{array}\right\rbrack  \]

<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

where \( {a}_{i1} \) and \( {a}_{i2}\left( {i = x,y,z,A,C}\right) \) are the axial acceleration of the first segment and second segment,respectively. \( {J}_{i1} \) and \( {J}_{i2}\left( {i = x,y,z,A,C}\right) \) are the axial jerk of the first segment and second segment, respectively. \( {a}_{1},{a}_{2} \) and \( {J}_{1},{J}_{2} \) are the acceleration and jerk along tool tip paths of the first and second segments,respectively. \( {a}_{\omega 1},{a}_{\omega 2} \) and \( {J}_{\omega 1},{J}_{\omega 2} \) are the acceleration and jerk along rotatory paths of the first and second segments, respectively.

<!-- Media -->

<!-- figureText: (a) (b) \( \overrightarrow{{r}_{I}} = \left( {{cos}\left( {\alpha }_{\omega I}\right) ,{cos}\left( {\gamma }_{\omega I}\right) }\right) \) \( { \rightarrow  }_{2} = \left( {\cos \left( {a}_{co2}\right) ,\cos \left( {\gamma }_{co2}\right) }\right) \) \( {\omega }_{AI} \) \( {O}_{m} \) \( \overrightarrow{{r}_{2}} \) Blended trajectory Second segment \( {O}_{W} \) \( x \) \( \widehat{{\beta }_{l}} = \left( {\cos \left( {\alpha }_{l}\right) ,\cos \left( {\beta }_{l}\right) ,\cos \left( {\gamma }_{l}\right) }\right) \) \( \overrightarrow{{\mathbf{e}}_{2}} = \left( {\cos \left( {\alpha }_{2}\right) ,\cos \left( {\beta }_{2}\right) ,\cos \left( {\gamma }_{2}\right) }\right) \) First segment -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_7.jpg?x=101&y=1725&w=1077&h=450&r=0"/>

Fig. 10. The axial feedrate of the blended trajectory, it is the addition of the corresponding axial feedrate along the adjacent two segments, which can be calculated by Eq. (27). (a) the tool tip path; (b) the rotatory path.

<!-- Meanless: 8-->


Fig. 11. The addition of the \( x \) -axis’s acceleration in the blending process. The feedrate profile with complete 7 phases and the feedrate profile without phases II and VI are taken as examples, (a-d) four different overlapping cases of the two feedrate profiles.

<!-- figureText: (a) (b) \( {a}_{x} \) \( {t}_{s} \) \( {T}_{b} \) (d) \( {\mathbf{a}}_{x} \) \( {T}_{b} \) \( {a}_{x2} \) (b) \( {J}_{x} \) (d) \( \uparrow  {J}_{x} \) \( {t}_{s} \) \( {T}_{b} \) \( {J}_{x2} \) \( {\mathbf{a}}_{x} \) \( {t}_{s} = {t}_{e};{T}_{b} = \theta \) (c) \( {\mathbf{a}}_{x} \) \( {T}_{b} \) \( {a}_{x1} \) (a) \( {J}_{x} \) \( {t}_{s} = {t}_{e};{T}_{b} = \theta \) (c) \( {}^{ \uparrow  }{J}_{x} \) \( {t}_{s} \) \( {T}_{b} \) \( {J}_{xI} \) -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_8.jpg?x=91&y=153&w=1093&h=1485&r=0"/>

Fig. 12. Addition of the \( x \) -axis’s jerk in the blending process. The feedrate profile with complete 7 phases and the feedrate profile without phases II and VI are taken as examples, (a-d) four different overlapping conditions of the two feedrate profiles.

<!-- Media -->

It can be seen that the axial dynamics could be controlled by limiting the acceleration and jerk along the tool path based on Eqs. (28) and (29).

### 3.1. Variable acceleration along tool tip and tool orientation trajectory

As above mentioned, the blending process occurs within the deceleration phase of the first segment or acceleration phase of the second segment. In this condition, four typical possible situations of axial acceleration in the blending process are presented in Fig. 11,where the \( x \) -axis is illustrated as an example. As can be seen,the acceleration of the \( x \) - axis \( {a}_{x} \) along the blended path is the addition of \( x \) -axis acceleration \( {a}_{x1} \) of the first segment and \( {a}_{x2} \) of the second segment,besides, \( {a}_{x1} \leq  0 \) and \( {a}_{x2} \) \( \geq  0 \) . Thus,the absolute axial acceleration will not exceed the maximum absolute values of \( {a}_{x1} \) and \( {a}_{x2} \) .

Thus, as long as the maximum axial accelerations satisfy Eq. (30), the axial acceleration in the blending process will be constrained, which can be expressed as:

\[{a}_{{x}_{\max }} \geq  {a}_{1}\left| {\cos \left( {\alpha }_{1}\right) }\right| \;{a}_{{x}_{\max }} \geq  {a}_{2}\left| {\cos \left( {\alpha }_{2}\right) }\right| \]

\[{a}_{{y}_{\max }} \geq  {a}_{1}\left| {\cos \left( {\beta }_{1}\right) }\right| \text{and}{a}_{{y}_{\max }} \geq  {a}_{2}\left| {\cos \left( {\beta }_{2}\right) }\right|  \tag{30}\]

\[{a}_{{z}_{\max }} \geq  {a}_{1}\left| {\cos \left( {\gamma }_{1}\right) }\right| \;{a}_{{z}_{\max }} \geq  {a}_{2}\left| {\cos \left( {\gamma }_{2}\right) }\right| \]

where \( {a}_{{x}_{\max }},{a}_{{y}_{\max }},{a}_{{z}_{\max }} \) are the limited acceleration of \( x - ,y - \) ,and \( z \) -axis in the WCS, which are determined by Eq. (19).

<!-- Meanless: 9-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

Fig. 13. The optimization of jerks, where the feasible search region can be determined by the constraints of the jerks and

Feasible search region the minimum jerk time is considered as the optimization index.

<!-- figureText: \( {T}_{i} \) Maximum \( {J}_{2} \) ♠ \( {J}_{1} \) Minimum (a) (b) \( {P}_{1} \) \( {l}_{a} \) \( {P}_{0,5} \) \( {P}_{\mathrm{b}} \) \( \widehat{{P}_{1}} \) Pa.s Second segment Blended trajectory \( {P}_{\mathrm{e}} \) \( \bullet  {P}_{2} \) (c) \( {P}_{\theta } \) \( {P}_{\mathrm{b}} \) \( x \) First segment -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_9.jpg?x=109&y=158&w=700&h=1263&r=0"/>

Fig. 14. Corner error control of tool tip position. When the blending trajectory is symmetric around the corner bisector, \( {\mathbf{P}}_{e} \) coincides with the point \( {\mathbf{P}}_{0.5} \) at the middle of the blending time and the distanceeof \( \begin{Vmatrix}{{\mathbf{P}}_{1}{\mathbf{P}}_{0.5}}\end{Vmatrix} \) is equal to the actual error, otherwise, eis larger than the actual error. Thus, ecan be used to control the corner error. (a) definition of the corner error; (b) corner error on the symmetric blending trajectory; (c) error control of asymmetric trajectory.

<!-- Media -->

Therefore, the initial acceleration amplitude along the adjacent tool tip paths can be determined by Eq. (31).

\[{a}_{1} = \min \left( {\frac{{a}_{{x}_{\max }}}{\left| \cos \left( {\alpha }_{1}\right) \right| },\frac{{a}_{{y}_{\max }}}{\left| \cos \left( {\beta }_{1}\right) \right| },\frac{{a}_{{z}_{\max }}}{\left| \cos \left( {\gamma }_{1}\right) \right| }}\right) \]

\[{a}_{2} = \min \left( {\frac{{a}_{{x}_{\max }}}{\left| \cos \left( {\alpha }_{2}\right) \right| },\frac{{a}_{{y}_{\max }}}{\left| \cos \left( {\beta }_{2}\right) \right| },\frac{{a}_{{z}_{\max }}}{\left| \cos \left( {\gamma }_{2}\right) \right| }}\right)  \tag{31}\]

In the same way, the limited acceleration amplitude along the rotatory tool path can be expressed as:

\[{a}_{\omega 1} = \min \left( {\frac{{a}_{\omega {A}_{\max }}}{\left| \cos \left( {\alpha }_{\omega 1}\right) \right| },\frac{{a}_{\omega {C}_{\max }}}{\left| \cos \left( {\gamma }_{\omega 1}\right) \right| }}\right) \]

\[{a}_{\omega 2} = \min \left( {\frac{{a}_{\omega {A}_{\max }}}{\left| \cos \left( {\alpha }_{\omega 2}\right) \right| },\frac{{a}_{\omega {C}_{\max }}}{\left| \cos \left( {\gamma }_{\omega 2}\right) \right| }}\right)  \tag{32}\]

where \( {a}_{\omega {A}_{\max }},{a}_{\omega {C}_{\max }} \) are the limited acceleration of \( A \) - and \( C \) - axis in the MCS.

Then, based on Eq. (15), the final limited acceleration amplitude \( {a}_{1},{a}_{2} \) with consideration of both translational and rotatory axial acceleration along the tool path, can be determined as follows:

\[{a}_{1} = \left\{  {\begin{array}{l} \frac{{a}_{\omega 1}}{{\eta }_{1}},{\eta }_{1} \cdot  {a}_{1} \geq  {a}_{\omega 1} \\  {a}_{1},{\eta }_{1} \cdot  {a}_{1} < {a}_{\omega 1} \end{array},{\eta }_{1} = \frac{{r}_{1}}{{l}_{1}}}\right. \text{and}{a}_{2} = \left\{  \begin{array}{l} \frac{{a}_{\omega 2}}{{\eta }_{2}},{\eta }_{2} \cdot  {a}_{2} \geq  {a}_{\omega 2} \\  {a}_{2},{\eta }_{2} \cdot  {a}_{2} < {a}_{\omega 2} \end{array}\right. ,{\eta }_{2} = \frac{{r}_{2}}{{l}_{2}}\]

(33)

where \( {l}_{1} \) and \( {l}_{2} \) are the translational displacement of adjacent segments, respectively, \( {r}_{1} \) and \( {r}_{2} \) are the rotatory displacement of adjacent segments, respectively.

### 3.2. Variable jerk along tool tip and tool orientation trajectory

In the same way, the jerks along the adjacent tool tip segments should be first controlled as follows:

\[{J}_{{x}_{\max }} \geq  {J}_{1}\left| {\cos \left( {\alpha }_{1}\right) }\right| \;{J}_{{x}_{\max }} \geq  {J}_{2}\left| {\cos \left( {\alpha }_{2}\right) }\right| \]

\[{J}_{{y}_{\max }} \geq  {J}_{1}\left| {\cos \left( {\beta }_{1}\right) }\right| \text{and}{J}_{{x}_{\max }} \geq  {J}_{2}\left| {\cos \left( {\alpha }_{2}\right) }\right|  \tag{34}\]

\[{J}_{{z}_{\max }} \geq  {J}_{1}\left| {\cos \left( {\gamma }_{1}\right) }\right| \;{J}_{{z}_{\max }} \geq  {J}_{2}\left| {\cos \left( {\gamma }_{2}\right) }\right| \]

where \( {J}_{{x}_{\max }},{J}_{{y}_{\max }},{J}_{{z}_{\max }} \) are the limited jerk of \( x - ,y - \) ,and \( z \) -axis in the WCS, which are determined by Eq. (19).

However, the possible axial jerks in the blending process are different from the axial acceleration, as shown in Fig. 12, which corresponds to the condition in Fig. 11. As illustrated in Fig. 12(c) and (d), the maximum value maybe the addition of two axial jerks of the adjacent segments. Therefore, the jerks along the segments should satisfy Eq. (35) to limit the possible axial jerk.

\[{J}_{1}\left| {\cos \left( {\alpha }_{1}\right) }\right|  + {J}_{2}\left| {\cos \left( {\alpha }_{2}\right) }\right|  \leq  {J}_{{x}_{\max }}\]

\[{J}_{1}\left| {\cos \left( {\beta }_{1}\right) }\right|  + {J}_{2}\left| {\cos \left( {\beta }_{2}\right) }\right|  \leq  {J}_{{y}_{\max }} \tag{35}\]

\[{J}_{1}\left| {\cos \left( {\gamma }_{1}\right) }\right|  + {J}_{2}\left| {\cos \left( {\gamma }_{2}\right) }\right|  \leq  {J}_{{z}_{\max }}\]

Meanwhile, the jerks along the rotatory tool paths can be limited as:

\[{J}_{\omega 1}\left| {\cos \left( {\alpha }_{\omega 1}\right) }\right|  \leq  {J}_{{A}_{\max }}\]

\[{J}_{\omega 1}\left| {\cos \left( {\gamma }_{\omega 1}\right) }\right|  \leq  {J}_{{C}_{\max }}\]

\[{J}_{\omega 2}\left| {\cos \left( {\gamma }_{\omega 2}\right) }\right|  \leq  {J}_{{A}_{\max }} \tag{36}\]

\[{J}_{\omega 2}\left| {\cos \left( {\alpha }_{\omega 2}\right) }\right|  \leq  {J}_{{C}_{\max }}\]

\[{J}_{\omega 1}\left| {\cos \left( {\alpha }_{\omega 1}\right) }\right|  + {J}_{\omega 2}\left| {\cos \left( {\alpha }_{\omega 2}\right) }\right|  \leq  {J}_{{A}_{\max }}\]

\[{J}_{\omega 1}\left| {\cos \left( {\gamma }_{\omega 1}\right) }\right|  + {J}_{\omega 2}\left| {\cos \left( {\gamma }_{\omega 2}\right) }\right|  \leq  {J}_{{C}_{\max }}\]

Combining Eqs.(15), (34), (35), (36) the final feasible search region of the tangential jerk can be expressed as:

\[0 \leq  {J}_{1} \leq  \min \left( {\min \left( {\frac{{J}_{{x}_{\max }}}{\left| \cos \left( {\alpha }_{1}\right) \right| },\frac{{J}_{{y}_{\max }}}{\left| \cos \left( {\beta }_{1}\right) \right| },\frac{{J}_{{z}_{\max }}}{\left| \cos \left( {\gamma }_{1}\right) \right| }}\right) ,\min \left( {\frac{{J}_{{A}_{\max }}}{\left| \cos \left( {\alpha }_{\omega 1}\right) \right| },\frac{{J}_{{C}_{\max }}}{\left| \cos \left( {\gamma }_{\omega 1}\right) \right| }}\right)  \cdot  \frac{1}{{\eta }_{1}}}\right) \]

\[0 \leq  {J}_{2} \leq  \min \left( {\min \left( {\frac{{J}_{{x}_{\max }}}{\left| \cos \left( {\alpha }_{2}\right) \right| },\frac{{J}_{{y}_{\max }}}{\left| \cos \left( {\beta }_{2}\right) \right| },\frac{{J}_{{z}_{\max }}}{\left| \cos \left( {\gamma }_{2}\right) \right| }}\right) ,}\right. \]

\[\min \left( {\frac{{J}_{{A}_{\max }}}{\left| \cos \left( {\alpha }_{\omega 2}\right) \right| },\frac{{J}_{{C}_{\max }}}{\left| \cos \left( {\gamma }_{\omega 2}\right) \right| } \cdot  \frac{1}{{\eta }_{2}}}\right) \]

\[{J}_{1}\left| {\cos \left( {\alpha }_{1}\right) }\right|  + {J}_{2}\left| {\cos \left( {\alpha }_{2}\right) }\right|  \leq  {J}_{{x}_{\max }}\]

\[{J}_{1}\left| {\cos \left( {\beta }_{1}\right) }\right|  + {J}_{2}\left| {\cos \left( {\beta }_{2}\right) }\right|  \leq  {J}_{{y}_{\max }}\]

\[{J}_{1}\left| {\cos \left( {\gamma }_{1}\right) }\right|  + {J}_{2}\left| {\cos \left( {\gamma }_{2}\right) }\right|  \leq  {J}_{{z}_{\max }}\]

\[{\eta }_{1} \cdot  {J}_{1}\left| {\cos \left( {\alpha }_{\omega 1}\right) }\right|  + {\eta }_{2} \cdot  {J}_{2}\left| {\cos \left( {\alpha }_{\omega 2}\right) }\right|  \leq  {J}_{{A}_{\max }}\]

\[{\eta }_{1} \cdot  {J}_{1}\left| {\cos \left( {\gamma }_{\omega 1}\right) }\right|  + {\eta }_{2} \cdot  {J}_{2}\left| {\cos \left( {\gamma }_{\omega 2}\right) }\right|  \leq  {J}_{{C}_{\max }}\]

<!-- Meanless: (37) 10-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al.-->

<!-- Media -->

International Journal of Mechanical Sciences 195 (2021) 106262 Fig. 15. The representations of the smoothing error in the \( {\mathrm{{MCS\varepsilon }}}_{o}^{m} \) and \( {\mathrm{{WCS\varepsilon }}}_{o} \) ,where \( {\mathbf{R}}_{a},{\mathbf{R}}_{b} \) are the starting and ending point of the blending process on the rotatory path, \( {\mathbf{R}}_{0.5a},{\mathbf{R}}_{0.5b} \) are the points on the adjacent linear segments at the middle of blending time, \( {\mathrm{O}}_{0.5a},{\mathrm{O}}_{0.5b},{\mathrm{O}}_{0.5} \) are the corresponding tool orientation vectors of \( {\mathbf{R}}_{0.5a},{\mathbf{R}}_{0.5b},{\mathbf{R}}_{0.5} \) on the unit

<!-- figureText: \( \mathbf{{R}_{0}} \) \( : \left( {{cos}\left( {a}_{\omega \mathit{l}}\right) ,{cos}\left( {\gamma }_{\omega \mathit{l}}\right) }\right) \) O1 \( {O}_{2} \) \( O \) . sphere, respectively. \( {O}_{l} \) Second segment (c) 15 Maximum \( {v}_{\alpha } \) (deg/s) 10 Maximum 14.8776 Maximum 18.9116 11.0195 500 \( a\left( {\mathrm{\;{deg}}/{\mathrm{s}}^{2}}\right) \) -500 5000 \( J\left( {\mathrm{{deg}}/{\mathrm{s}}^{3}}\right) \) -5000 0.6 t (s)0.9 0.3 0.6 t (s)0.9 Second segment \( \overrightarrow{{\mathbf{r}}_{2}} = \left( {{cos}\left( {\alpha }_{\omega 2}\right) ,{cos}\left( {\gamma }_{\omega 2}\right) }\right) \) \( {R}_{1} \) \( {o}_{m} \) First segment Blended trajectory (a) (b) 50 40 \( {v}_{0} \) (deg/s) 15 Maximum 17.3674 \( v \) (mm/s) 30 Maximur 50.0000 Maximum: 38.7291 500 500 \( a\left( {\mathrm{{mm}}/{\mathrm{s}}^{2}}\right) \) 0 \( a\left( {\mathrm{\;{deg}}/{\mathrm{s}}^{2}}\right) \) 0 -500 -500 5000 5000 \( J\left( {\mathrm{{mm}}/{\mathrm{s}}^{3}}\right) \) \( J\left( {\mathrm{\;{deg}}/{\mathrm{s}}^{3}}\right) \) 0.3 0.6 t (s)0.9 1.5 0.3 First segment -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_10.jpg?x=101&y=129&w=1077&h=1065&r=0"/>

Fig. 16. The original kinematic profile along the tool path by the proposed method. (a) the tool tip path; (b) the rotatory path; (c) the angular path.

<!-- Media -->

Note that in the blending process, the maximum axial jerk between the adjacent linear segments is selected as the axial limits in Eq. (37). To optimize the machine performance, the minimum jerk time is considered as an optimization index. Based on Eq. (7), the optimization function can be written as:

\[{T}_{j\min } = \min \left( {\frac{{a}_{1}}{{J}_{1}} + \frac{{a}_{2}}{{J}_{2}}}\right)  \tag{38}\]

where \( {J}_{1},{J}_{2} \) are limited by the jerk constraints as Eq. (37).

As illustrated in Fig. 13, the feasible region of the jerk optimization problem is a convex polygon that satisfies all the inequalities in Eq. (37). And, the minimum jerk time can be obtained on the edge of the polygon. As a consequence,the optimal values of \( {J}_{1} \) and \( {J}_{2} \) can be determined, with which not only the axial dynamics are not violated but also the machining efficiency is ensured.

## 4. Blending time determination under the smoothing errors

As above mentioned, in the blending process both the tool tip error and tool orientation error are generated, which should be controlled within the tolerances.

#### 4.1.The control of tool tip error

As illustrated in Fig. 14,the smoothing error of the tool tip \( {\varepsilon }_{e} \) is the distance from the point \( {\mathbf{P}}_{1} \) to the point \( {\mathbf{P}}_{e} \) of the blending trajectory, where \( \overrightarrow{{\mathbf{P}}_{1}{\mathbf{P}}_{e}} \) is perpendicular to the tangent vector of the blending trajectory at the point \( {\mathbf{P}}_{e} \) . Other symbols are defined as follows, \( {\mathbf{P}}_{a},{\mathbf{P}}_{b} \) are the starting and ending point of the blending process on tool tip position, \( {\mathbf{P}}_{0.5a},{\mathbf{P}}_{0.5b} \) are the tool tip point on the adjacent linear segments at the middle of blending time, \( {\mathbf{P}}_{0.5} \) is the points at the middle of blending time on the blending trajectory of the tool tip, \( {l}_{a},{l}_{b} \) are the transition distances of \( {\mathbf{P}}_{a}{\mathbf{P}}_{1} \) and \( {\mathbf{P}}_{1}{\mathbf{P}}_{b},{l}_{0.5a},{l}_{0.5b} \) are the distances of \( {\mathbf{P}}_{0.5a}{\mathbf{P}}_{1} \) and \( {\mathbf{P}}_{1}{\mathbf{P}}_{0.5b} \) . When the feedrate profiles of the adjacent linear segments are identical, the blending trajectory is symmetric around the corner bisector, therefore, \( {\mathbf{P}}_{e} \) occurs in the middle of the blending trajectory,which coincides with the point \( {\mathbf{P}}_{0.5} \) ,as shown in Fig. 14(b). However,owing to the asymmetry of the blending trajectory by the proposed method, \( {\mathbf{P}}_{0.5} \) may not coincide with the point \( {\mathbf{P}}_{e} \) ,as shown in Fig. 14 (c). In that case,the distanceeof \( \begin{Vmatrix}{{\mathbf{P}}_{1}{\mathbf{P}}_{0.5}}\end{Vmatrix} \) must be larger than \( {\varepsilon }_{e} \) . Hence,ifeis controlled within the specified error of tool tip \( {\varepsilon }_{e,\max },{\varepsilon }_{e} \) will be limited within \( {\varepsilon }_{e,\max } \) .

Based on Eq. (6), \( {l}_{0.5a},{l}_{0.5b} \) can be expressed as:

\[{l}_{0.5a} = {s}_{i} + {v}_{i}\left( {t - {T}_{i}}\right)  + \frac{1}{2}{a}_{i}{\left( t - {T}_{i}\right) }^{2} + \frac{1}{6}{J}_{i}{\left( t - {T}_{i}\right) }^{3}\]

\[{l}_{0.5b} = {s}_{j} + {v}_{j}\left( {t - {T}_{j}}\right)  + \frac{1}{2}{a}_{j}{\left( t - {T}_{j}\right) }^{2} + \frac{1}{6}{J}_{j}{\left( t - {T}_{j}\right) }^{3} \tag{39}\]

\[t = \frac{1}{2}{T}_{b}\]

where \( {T}_{b} \) is the blending time, \( i \) and \( j \) are the critical state of first and second segments, respectively

The values of \( i \) and \( j \) can be determined by the following equations.

\[{MS106262}{s}_{i}^{2} + {s}_{j}^{2} - 2{s}_{i}{s}_{j}\cos \left( {\pi  - \theta }\right)  > {\varepsilon }_{e,\max }^{2} \tag{40}\]

\[{s}_{i + 1}^{2} + {s}_{j + 1}^{2} - 2{s}_{i + 1}{s}_{j + 1}\cos \left( {\pi  - \theta }\right)  \leq  {\varepsilon }_{e,\max }^{2}\]

As illustrated in Fig. 14(c), ecan be expressed as a function of \( {l}_{0.5a},{l}_{0.5b} \) :

\[e = \sqrt{{l}_{0.5a}^{2} + {l}_{0.5b}^{2} - 2{l}_{0.5a}{l}_{0.5b}\cos \left( {\pi  - \theta }\right) } \tag{41}\]

Thus, the following expression can be obtained by integrating Eqs. (39), (40)and(41),

\[{\Psi }_{6} \cdot  {t}^{6} + {\Psi }_{5} \cdot  {t}^{5} + {\Psi }_{4} \cdot  {t}^{4} + {\Psi }_{3} \cdot  {t}^{3} + {\Psi }_{2} \cdot  {t}^{2} + {\Psi }_{1} \cdot  t + {\Psi }_{0} = 0 \tag{42}\]

<!-- Meanless: 11-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

where \( {\Psi }_{6},\cdots ,{\Psi }_{0} \) are the coefficients of \( {t}^{6},\cdots ,t,{t}^{0} \) ,the detailed expression could be found in Appendix A.

<!-- Media -->

<!-- figureText: First segment Second segment (b) 20 Rotatory Feedrate - Angular feedrate 15 2 (deg/s) 10 Maximum 14.8776 5 0 0 0.3 0.6 t (s) 0.9 1.2 (d) 18 16 \( {z}_{w}\left( \mathrm{\;{mm}}\right) \) 12 Tool tip 25 10 Tool orientation 4 ~ 2- \( {x}_{w}\left( \mathrm{{mm}}\right) \) \( {y}_{w} \) (mm) Blending time: \( {0.104}\mathrm{\;s} \) \( v \) (mm/s) Maximum Maximum: 38.7219 0.3 0.6 t (s) 0.9 1.2 18 \( {z}_{n} \) (mm) \( {0.1882}\mathrm{\;{mm}} \) \( {x}_{n} \) (mm) \( {y}_{w}\left( \mathrm{{mm}}\right) \) -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_11.jpg?x=104&y=162&w=930&h=669&r=0"/>

Fig. 17. The blending process and interpolation results of the single corner with the proposed method. (a) tool tip feedrate blending process; (b) the blended rotatory feedrate and angular feedrate; (c) the controlled smoothing errors of tool tip and tool orientation; (d) the interpolation results of the tool path.

<!-- figureText: 30 (b) 500 300 \( a \) (mm/s \( {}^{2} \) 100 -100 -300 -500 0 0.3 0.6 t (s) 0.9 1.2 0.6 t (s) 0.9 1.2 \( v\left( {\mathrm{\;{mm}}/\mathrm{s}}\right) \) -10 -30 -50 0.3 0.6 0.9 1.2 t (s) x-axis \( J\left( {\mathrm{\;{mm}}/{\mathrm{s}}^{3}}\right) \) 3000 1000 -1000 ...... y-axis z-axis -3000 -5000 0.3 -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_11.jpg?x=102&y=876&w=1072&h=551&r=0"/>

Fig. 18. The axial kinematic profiles of the single corner after blending in the WCS. (a) axial velocity; (b) axial acceleration; (c) axial jerk.

<!-- Media -->

Thus, the solution of \( t \) can be obtained by solving Eq. (42), and the initial blending time can be expressed as:

\[{T}_{b0} = \left\{  \begin{matrix} {2t} \\  {T}_{3\min } \end{matrix}\right.  \tag{43}\]

where \( {T}_{3\min } \) is the minimum value in critical times \( \left( {t}_{3}\right) \) of the first and second segments.

#### 4.1.The control of tool orientation error

Different from the tool tip position, the tool orientation is represented by rotatory position in the MCS. Thus, to control the tool orientation error in the WCS, the relation between the tool orientation errors in the WCS \( {\varepsilon }_{o} \) and MCS \( {\varepsilon }_{o}^{m} \) should be established,as shown in Fig. 15. \( {\varepsilon }_{o}^{m} \) is the distance from the point \( {\mathbf{R}}_{1} \) to the point \( {\mathbf{R}}_{e} \) of the blending trajectory, where \( \overrightarrow{{\mathbf{R}}_{1}{\mathbf{R}}_{e}} \) is perpendicular to the tangent vector of the blending trajectory at the point \( {\mathbf{R}}_{e} \) . With the principle in tool tip error control,the point \( {\mathbf{R}}_{0.5} \) at the middle of blending time on the blending trajectory is used to estimate the tool orientation error in the MCS.

First, the tool orientation deviation \( d \) Ocan be established by differentiating Eq. (2) as follows:

\[d\mathbf{O} = \left\lbrack  \begin{matrix} \cos \left( {p}_{mA}\right)  \cdot  \sin \left( {p}_{mC}\right) & \sin \left( {p}_{mA}\right)  \cdot  \cos \left( {p}_{mC}\right) \\  \cos \left( {p}_{mA}\right)  \cdot  \cos \left( {p}_{mC}\right) &  - \sin \left( {p}_{mA}\right)  \cdot  \sin \left( {p}_{mC}\right) \\   - \sin \left( {p}_{mA}\right) & 0 \end{matrix}\right\rbrack  \left\lbrack  \begin{array}{l} {dA} \\  {dC} \end{array}\right\rbrack   \tag{44}\]

Thus,the smoothing error \( {\varepsilon }_{o}^{m} \) and \( {\varepsilon }_{o}\left\lbrack  {23}\right\rbrack \) can be expressed as Eqs. (45), (46), respectively.

\[{\varepsilon }_{o}^{m} = \sqrt{{\left( dA\right) }^{2} + {\left( dC\right) }^{2}} \tag{45}\]

\[{\varepsilon }_{o} \approx  \parallel d\mathbf{O}\parallel  = \sqrt{{\left( dA\right) }^{2} + {\left( dC\right) }^{2} \cdot  {\sin }^{2}\left( {p}_{mA}\right) } \tag{46}\]

Then,the approximately linear relationship \( {\varepsilon }_{o}^{m} \) and \( {\varepsilon }_{o}\left\lbrack  {{16},{26}}\right\rbrack \) can be expressed as:

\[\frac{{\varepsilon }_{o}^{m}}{{\varepsilon }_{o}} = \frac{\sqrt{{\left( dA\right) }^{2} + {\left( dC\right) }^{2}}}{\sqrt{{\left( dA\right) }^{2} + {\left( dC\right) }^{2} \cdot  {\sin }^{2}\left( {p}_{mA}\right) }} = \frac{\sqrt{1 + {k}^{2}}}{\sqrt{1 + {k}^{2} \cdot  {\sin }^{2}\left( {p}_{mA}\right) }} \tag{47}\]

where \( k \) is the slope of the rotatory path corner’s bisector.

<!-- Meanless: 12-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

<!-- figureText: 50 (b) 500 \( a\left( {\mathrm{\;{mm}}/{\mathrm{s}}^{2}\text{or}\mathrm{{deg}}/{\mathrm{s}}^{2}}\right) \) 300 100 -100 -300 -500 0 0.3 0.6 0.9 1.2 X-axis Y-axis Z-axis A-axis 0.6 t (s) 0.9 1.2 \( v\left( {\mathrm{\;{mm}}/\mathrm{s}\text{or}\mathrm{{deg}}/\mathrm{s}}\right) \) 30 10 -10 -30 -50 0 0.3 0.6 t (s) 0.9 1.2 5000 \( J\left( {\mathrm{\;{mm}}/{\mathrm{s}}^{3}\text{or}\mathrm{{deg}}/{\mathrm{s}}^{3}}\right) \) 3000 1000 -1000 -3000 -5000 0.3 -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_12.jpg?x=103&y=159&w=1073&h=521&r=0"/>

Fig. 19. The axial kinematic profiles of the single corner after blending in the MCS. (a) axial velocity; (b) axial acceleration; (c) axial jerk.

Table 1

Constraints and parameters used in simulation and experiment.

<table><tr><td>Methods</td><td>Constraints and parameters</td><td>SimulationExperiment</td><td>Symbol</td></tr><tr><td rowspan="4">Proposed method</td><td>Axial acceleration in the WCS \( \left( {\mathrm{{mm}}/{\mathrm{s}}^{2}}\right) \)</td><td>500/500/400</td><td>\( {a}_{x}/{a}_{y}/{a}_{z} \)</td></tr><tr><td>Axial acceleration in the MCS \( \left( {\mathrm{{mm}}/{\mathrm{s}}^{2}}\right) \)</td><td>500/500/400/300/500</td><td>\( {a}_{X}/{a}_{Y}/{a}_{Z}/{a}_{A}/{a}_{C} \)</td></tr><tr><td>Axial jerk in the WCS \( \left( {\mathrm{{mm}}/{\mathrm{s}}^{3}}\right) \)</td><td>5000/5000/4000</td><td>\( {J}_{x}/{J}_{y}/{J}_{z} \)</td></tr><tr><td>Axial jerk in the MCS \( \left( {\mathrm{{mm}}/{\mathrm{s}}^{3}}\right) \)</td><td>5000/5000/4000/3000/5000</td><td>\( {J}_{X}/{J}_{Y}/{J}_{Z}/{J}_{A}/{J}_{C} \)</td></tr><tr><td rowspan="6">Other methods</td><td>Acceleration (mm \( /{\mathrm{s}}^{2} \) )</td><td>300</td><td>\( a \)</td></tr><tr><td>Jerk (mm/s3)</td><td>3000</td><td>\( J \)</td></tr><tr><td>Centripetal acceleration \( \left( {\mathrm{{mm}}/{\mathrm{s}}^{2}}\right) \)</td><td>300</td><td>\( {a}_{n} \)</td></tr><tr><td>Centripetal jerk \( \left( {\mathrm{{mm}}/{\mathrm{s}}^{3}}\right) \)</td><td>2000</td><td>\( {J}_{n} \)</td></tr><tr><td>Chord error (mm)</td><td>0.001</td><td>\( \delta \)</td></tr><tr><td>Parametric interpolation method</td><td>Second-order Taylor's expansion</td><td>STE</td></tr><tr><td rowspan="11">Common parameters</td><td>Interpolation period (ms)</td><td>21</td><td>\( T \)</td></tr><tr><td>Tool tip feedrate in the WCS(mm/s)</td><td>5050</td><td>\( v \)</td></tr><tr><td>Translational feedrate in the MCS(mm/s)</td><td>Unlimited50</td><td>\( {v}_{m} \)</td></tr><tr><td>Rotatory feedrate (deg/s)</td><td>2025</td><td>\( {V}_{\omega } \)</td></tr><tr><td>Angular feedrate (deg/s)</td><td>1517</td><td>\( \omega \)</td></tr><tr><td>Tool tip error (mm)</td><td>0.20.02</td><td>\( \varepsilon \)</td></tr><tr><td>Tool orientation error (deg)</td><td>0.10.01</td><td>\( {\varepsilon }_{0} \)</td></tr><tr><td>Coordinates of WCS (mm)</td><td>\( {\left\lbrack  0,0,0\right\rbrack  }^{\mathrm{T}} \)</td><td>\( {\left\lbrack  {x}_{wm},{y}_{wm},{z}_{wm}\right\rbrack  }^{\mathrm{T}} \)</td></tr><tr><td>Coordinates of C-axis (mm)</td><td>\( {\left\lbrack  0,0,0\right\rbrack  }^{\mathrm{T}} \)</td><td>\( {\left\lbrack  {x}_{cm},{y}_{cm},{z}_{cm}\right\rbrack  }^{\mathrm{T}} \)</td></tr><tr><td>Coordinates of A-axis (mm)</td><td>\( {\left\lbrack  0,0,{79.90}\right\rbrack  }^{\mathrm{T}} \)</td><td>\( {\left\lbrack  {x}_{am},{y}_{am},{z}_{am}\right\rbrack  }^{\mathrm{T}} \)</td></tr><tr><td>Tool length (mm)</td><td>50</td><td>\( L \)</td></tr></table>

<!-- Media -->

Therefore,for the specified tool orientation error in the WCS \( {\varepsilon }_{o,\max } \) , the corresponding smoothing error of rotary commands \( {\varepsilon }_{o,\max }^{m} \) can be calculated as:

\[{\varepsilon }_{o,\max }^{m} = \frac{\sqrt{1 + {k}^{2}}}{\sqrt{1 + {k}^{2} \cdot  {\sin }^{2}\left( {p}_{mA}\right) }}{\varepsilon }_{o,\max } \tag{48}\]

Based on the Eqs. (39)-(42),the blending time \( {T}_{b1} \) with consideration of the tool orientation error in the WCS can be determined.

Thus,the final blending time \( {T}_{b} \) can be obtained with consideration of both the tool tip error and tool orientation error according to Eq. (49).

\[{T}_{b} = \min \left( {{T}_{b0},{T}_{b1}}\right)  \tag{49}\]

## 5. Simulation and experiment

To validate the effectiveness and functionality of the proposed algorithms, the simulation and experiment are conducted in this section. A single corner tool path is applied to show the details of the blending process in the simulation. Meanwhile, experimental validations and comparisons with the other three techniques are performed for a fan-shaped tool path \( \left\lbrack  {{26},{50}}\right\rbrack \) . The adopted constraints and parameters are listed in Table 1.

### 5.1. Simulation

In the simulation, the proposed algorithm is coded with VS 2013, which is executed on a personal computer with frequencies of \( {1.9}\mathrm{{GHz}} \) CPU. The specific tool tip position and tool orientation coordinates are presented in Table 2.

The tool tip feedrate control method introduced in Section 2.3.3 is first utilized to determine the limited feedrate along the tool path. From Table 2, it can be obtained that the lengths of the two adjacent linear segments in the WCS are \( {20}\mathrm{\;{mm}} \) . For the first segment,the displacements of the A-axis and C-axis are 3.5656deg and 5.9613deg, respectively. Based on Eq. (24), the maximum tool tip feedrate under the limited angular feedrate \( {15}\mathrm{{deg}}/\mathrm{s} \) is \( {67.1051}\mathrm{\;{mm}}/\mathrm{s} \) . Meanwhile,based on Eq. (25), the maximum tool tip feedrate under specified rotatory fee-drate \( {20}\mathrm{{deg}}/\mathrm{s} \) is \( {57.5755}\mathrm{\;{mm}}/\mathrm{s} \) . Obviously,the tool tip feedrate under the two constraints is larger than the programmed feedrate in the WCS \( {50}\mathrm{\;{mm}}/\mathrm{s} \) . Thus,the final maximum scheduled feedrate of the first segment can be determined as \( {50}\mathrm{\;{mm}}/\mathrm{s} \) according to Eq. (26). Different from the first segment, the displacements of the A-axis and C-axis of the second segment are \( {7.1354}\mathrm{\;{deg}} \) and \( {6.6680}\mathrm{\;{deg}} \) ,respectively. In the same way, the maximum tool tip feedrate under the limited angular feedrate and rotatory feedrate is calculated as \( {38.7291}\mathrm{\;{mm}}/\mathrm{s} \) and \( {40.6584}\mathrm{\;{mm}}/\mathrm{s} \) , respectively. Thus, the final maximum scheduled feedrate of the second segment is \( {38.7291}\mathrm{\;{mm}}/\mathrm{s} \) . Then,the maximum axial constraints adjustments in the WCS illustrated in Section 2.3.2 and the variable accelera-

<!-- Meanless: 13-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

Table 2

Tool tip and tool orientation coordinates of the single corner.

<table><tr><td colspan="4">Tool tip position (mm) Spherical coordinate</td><td colspan="5">Orientation Rotatory axes (deg)</td></tr><tr><td>No.</td><td>\( {P}_{xw} \)</td><td>\( {P}_{yw} \)</td><td>\( {P}_{zw} \)</td><td>\( {O}_{iw} \)</td><td>\( {O}_{jw} \)</td><td>\( {O}_{kw} \)</td><td>\( {P}_{Am} \)</td><td>\( {P}_{Cm} \)</td></tr><tr><td>1</td><td>0.0000</td><td>0.0000</td><td>0.0000</td><td>0.3951</td><td>-0.0237</td><td>0.9183</td><td>23.3144</td><td>93.4339</td></tr><tr><td>2</td><td>17.6090</td><td>8.8045</td><td>3.5218</td><td>0.4517</td><td>0.01994</td><td>0.8919</td><td>26.8813</td><td>87.4726</td></tr><tr><td>3</td><td>1.8059</td><td>13.1032</td><td>15.0015</td><td>0.3335</td><td>0.05399</td><td>0.9412</td><td>19.7459</td><td>80.8046</td></tr></table>

Table 3

The adjustments of parameters in feedrate scheduling.

<table><tr><td>Parameters</td><td colspan="2">acceleration \( \left( {\mathrm{{mm}}/{\mathrm{s}}^{2}}\right. \) or deg/</td><td colspan="3">jerk \( \left( {\mathrm{{mm}}/{\mathrm{s}}^{3}\text{or}\mathrm{{deg}}/{\mathrm{s}}^{3}}\right) \)</td></tr><tr><td>Constraints</td><td>\( {a}_{X}/{a}_{Y}/{a}_{Z}/{a}_{x}/{a}_{y}/{a}_{z} \)</td><td>\( {a}_{A}/{a}_{C} \)</td><td>\( {J}_{X}/{J}_{Y}/{J}_{Z}/{J}_{x}/{J}_{y}/{J}_{z} \)</td><td>\( {J}_{A}/{J}_{C} \)</td><td>Blending process</td></tr><tr><td>Segment 1</td><td>527.7409</td><td>1677.7484</td><td>5277.4091</td><td>16774.8473</td><td>3111.0000</td></tr><tr><td>Segment 2</td><td>400.0543</td><td>840.8782</td><td>4000.5427</td><td>8408.7820</td><td>2861.0000</td></tr></table>

<!-- figureText: (a)60 (b)20 Rotatory feedrate - Angular feedrate Maximum: 15 15.0000 \( v \) (deg/s) 10 Maximum: 5 0 0 0.3 0.6 0.9 1.2 1.5 t (s) First segment Second segment 50 43.1844 \( v \) (mm/s) 40 Maximum: 30.7186 30 20 10 1.452s 0.3 0.6 0.9 1.2 1.5 t (s) -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_13.jpg?x=103&y=650&w=926&h=337&r=0"/>

<!-- Media -->

Fig. 20. The blended feedrate profiles with limited rotatory feedrate \( \left( {{v}_{\omega \max } = {15}}\right) \) . (a) tool tip feedrate; (b) rotatory feedrate and angular feedrate. tion/jerk algorithms introduced in Section 3 can be applied to determine the kinematic parameters, as shown in Table 3. The final accelerations along the tool path of the first and second segments are \( {527.7409}\mathrm{\;{mm}}/{\mathrm{s}}^{2} \) and \( {400.0543}\mathrm{\;{mm}}/{\mathrm{s}}^{2} \) ,respectively. The final jerks along the tool path of the first and second segments are \( {3111}\mathrm{\;{mm}}/{\mathrm{s}}^{3} \) and \( {2861}\mathrm{\;{mm}}/{\mathrm{s}}^{3} \) ,respectively. And, the scheduled feedrate profiles with the jerk-limited algorithm along the tool paths are presented in Fig. 16.

Then, by adopting the blending method proposed in Section 4, the blending time will be first determined as \( {122.8}\mathrm{\;{ms}} \) under the constrained tool tip error. Finally,it is adjusted to \( {104.7}\mathrm{\;{ms}} \) under the limited tool orientation error. It should be noticed that the constrained tool orientation error decides the final blending time, it is just a coincidence. The adjustment all depends on the test tool path and the specified errors as introduced in Section 4. Fig. 17 shows the corner blending and interpolation process of the single corner. As shown, the proposed method can realize non-stop smoothing corner motion, and the estimated corner tolerances are well respected in the WCS. From Fig. 17(b), it can be seen that the rotatory feedrate and angular feedrate of two adjacent linear segments are well constrained within the limited values. As mentioned above,the final limited tool tip feedrate \( {38.7291}\mathrm{\;{mm}}/\mathrm{s} \) of the second segment is determined by specified maximum angular feedrate \( {15}\mathrm{{deg}}/\mathrm{s} \) ,but the actual maximum angular feedrate is \( {14.8776}\mathrm{{deg}}/\mathrm{s} \) . It is close to the limited value, which proves that the proposed feedrate control principle by Eq. (24) is effective and has a slightly tighter tolerance in controlling the angular motion. The axial kinematic performances in the WCS and corresponding results in the MCS are presented in Figs. 18 and 19, respectively. As can be seen, the scheduled axial kinematics respect to the workpiece and physical axial constraints are well limited.

Besides, Fig. 17(b) shows that the rotatory feedrate is always larger than the angular feedrate as introduced in Section 2.3. Therefore, the tool tip feedrate under limited rotatory feedrate can be utilized to constrain the maximum angular feedrate, but the machining efficiency will decrease. As shown in Fig. 20, the angular feedrate is constrained within the limitations by the limited rotatory feedrate \( {15}\mathrm{{deg}}/\mathrm{s} \) ,however,the machining time increases by 11.8644% in comparison with the proposed method.

<!-- Media -->

<!-- figureText: NC Data Feedback PLC Data Target 15-3317U CPU @ 1.70GHz x 4 RAM 3.8GiB Real-time LINUX -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_13.jpg?x=949&y=1056&w=644&h=528&r=0"/>

Fig. 21. The PC-based experimental five-axis platform by EtherCAT communication technique. In one interpolation period, the data generated in the CNC, including the target position, etc., will be sent to the servo and PLC modules, meanwhile, the feedback data, including the feedback position, etc., is sent back to the CNC.

<!-- Media -->

### 5.2. Experiment

In addition to the simulation studies applied in the previous section, experimental validations and benchmark comparisons are performed on the five-axis motion system, as illustrated in Fig. 21. The motion system is driven by five servomotors with build-in position control loops. The axes are controlled by a PC-based CNC system with a real-time Linux operating system and EtherCAT network. The constraints and structural parameters used in the experiment are presented in Table 1. The scheduled algorithms will be first applied to generate the reference commands, then the IKT is adopted to calculate the target positions of each axis. And, the axial feedback positions are sampled by the CNC system with a frequency of \( 1\mathrm{{kHz}} \) .

<!-- Meanless: 14-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

Fig. 22. Fan-shaped tool path. (a) tool path in the WCS; (b) tool orientation in the unit sphere.

<!-- figureText: (a) (b) Start 0.5 \( k \) -0.5 -0.5 -0.5 -50 0.5 0.5 \( {y}_{w}\left( \mathrm{\;{mm}}\right) \) 1 50 40 50.2916- 30 20 10 11.926s 0 60 54.5721 50 40 20 10 12.077s 18.4614 60 55.0935 37.2195 40 30 11.735s 10 0 60 54.2314 50 40 30 20 10 10 6 t (s) 8 Rotatory feedrate Translational feedrate in the MCS Limited angular feedrate Limited rotatory feedrate 5 9 13 17 21 Corners QBC method TOSC method \( {z}_{w}\left( \mathrm{{mm}}\right) \) End 20 Tool orientation -20 Tool tip -50 \( {x}_{w}\left( \mathrm{{mm}}\right) \) 50 150 -100 50 \( v \) (mm/s or deg/s) 40 30 20 10 0 \( v \) (mm/s or deg/s) 50 40 20 10 60 \( v \) (mm/s or deg/s) 40 30 20 10 0 (d) 60 \( v\left( {\mathrm{\;{mm}}/\mathrm{s}\text{or}\mathrm{{deg}}/\mathrm{s}}\right) \) 50 40 30 20 10 0 2 t (s) 8 Tool tip feedrate in the WCS Angular feedrate Limited tool tip feedrate (a) (b) 0.02 Tool orientation error 0.01 (deg) 0 Tool tip error 0 1 5 9 13 17 21 Corners Proposed method CBC method -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_14.jpg?x=95&y=146&w=1079&h=1795&r=0"/>

Fig. 23. The reference feedrate profiles with different methods. (a) proposed method; (b) QBC algorithm; (c) CBC technique; (d) TOSC method.

Fig. 24. The smoothing errors in the WCS with different methods. (a) tool tip errors; (b) tool orientation errors.

<!-- Media -->

Four algorithms are implemented and compared with each other on smoothing a fan-shaped tool path shown in Fig. 22, and the specific tool tip position and tool orientation coordinates of which are listed in Table B. 1 in Appendix B. The proposed method is applied first, and it is compared against a two-step G3 continuous corner smoothing algorithm with quartic B-spine curves (QBC) [2], in which the limited rotatory fee-drate is constrained, a two-step G2 continuous corner smoothing technique with cubic Bézier curve (CBC) [16], where the angular feedrate and rotatory feedrate are not taken into consideration, and the local smoothing method to blend the toolpath represented by tool tip position and unit tool orientation vector on spherical coordinates (TOSC), for instance, the FIR filter based one-step corner smoothing method [14], in which the physical axial kinematics are not considered. Besides, the Second-order Taylor's expansion (STE) algorithm [51] and the jerk-limited feedrate profile introduced in Section 2.1 are applied for two two-step corner smoothing methods.

<!-- Meanless: 15-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

Fig. 25. The reference translational axial kinematic profiles in the WCS with different methods. (a) axial velocity; (b) axial acceleration; (c) axial jerk.

<!-- figureText: 500 6000 \( {J}_{x}\left( {\mathrm{\;{mm}}/{\mathrm{s}}^{3}}\right) \) -6000 6000 3000 3-3000 -6000 5000 -5000 QBC method TOSC method Acceleration constraint Jerk constraint 7000 \( {J}_{\lambda }\left( {\mathrm{{mm}}/{\mathrm{s}}^{3}}\right) \) -7000 7000 Discontinuity \( {J}_{Y}\left( {\mathrm{{mm}}/{\mathrm{s}}^{3}}\right) \) -7000 7000 Discontinuity \( {J}_{Z}\left( {\mathrm{{mm}}/{\mathrm{s}}^{3}}\right) \) 6 t(s) 8 t(s) 12 4000 \( {J}_{A}\left( {\mathrm{{deg}}/{\mathrm{s}}^{3}}\right) \) -4000 6000 \( {J}_{C}\left( {\mathrm{{deg}}/{\mathrm{s}}^{3}}\right) \) 6 t (s)8 0 6 t (s) QBC method TOSC method Jerk constraint \( {v}_{x}\left( {\mathrm{{mm}}/\mathrm{s}}\right) \) 25 \( {a}_{x}\left( {\mathrm{{mm}}/{\mathrm{s}}^{2}}\right) \) -25 -500 50 500 \( {v}_{y}\left( {\mathrm{{mm}}/\mathrm{s}}\right) \) 25 \( {a}_{y}\left( {\mathrm{{mm}}/{\mathrm{s}}^{2}}\right) \) 0 0 -50 -500 50 400 \( {v}_{2}\left( {\mathrm{{mm}}/\mathrm{s}}\right) \) 25 \( a \) : \( \left( {\mathrm{{mm}}/{\mathrm{s}}^{2}}\right) \) 0 -25 -50 -400 Proposed method CBC method Feedrate constraint 500 \( {v}_{X}\left( {\mathrm{{mm}}/\mathrm{s}}\right) \) 25 \( {ax}\left( {\mathrm{{mm}}/{\mathrm{s}}^{2}}\right) \) -25 -500 50 500 \( {v}_{Y}\left( {\mathrm{{mm}}/\mathrm{s}}\right) \) 0 \( {a}_{Y}\left( {\mathrm{{mm}}/{\mathrm{s}}^{2}}\right) \) -25 -50 -500 50 200 /z (mm/s) 0 \( {az}\left( {\mathrm{{mm}}/{\mathrm{s}}^{2}}\right) \) 25 6 t(s) 8 25 300 \( {v}_{4} \) (deg/s) 15 \( {a}_{4}\left( {\mathrm{{deg}}/{\mathrm{s}}^{2}}\right) \) 5 -5 -25 -300 45 600 30 \( {v}_{\mathrm{C}}\left( \mathrm{{deg}/s}\right) \) \( {ac}\left( {\mathrm{{deg}}/{\mathrm{s}}^{2}}\right) \) -15 6 t (s)8 Proposed method CBC method Feedrate constraint Acceleration constraint -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_15.jpg?x=103&y=157&w=1077&h=1604&r=0"/>

Fig. 26. The corresponding reference axial kinematic profiles in the MCS. (a) axial velocity; (b) axial acceleration; (c) axial jerk.

<!-- Media -->

The reference feedrate profiles along the tool path with different methods are shown in Fig. 23. It can be seen from Fig. 23(a) that the tool tip feedrate, rotatory feedrate, and angular feedrate are well respected by the proposed method. The rotatory feedrate is also well bounded with the QBC algorithm, however, the maximum angular feedrate is violated in some critical areas as illustrated in Fig. 23(b). Besides, the cycle time with the QBC algorithm is increased than the proposed method. Although the scheduled time by the CBC and TOSC techniques is slightly less than that with the proposed method, the rotatory feedrate is violated. As shown in Fig. 23(c) and (d), the maximum rotatory feedrate scheduled with the CBC and TOSC techniques reach 37.2195deg/s and 42.8615deg/s, exceeding the limits by 48.8780% and 71.4460%, respectively, which may cause unstable motion in the machining. More importantly, the proposed method can control the translational feedrate in the MCS with satisfactory results. In contrast, the generated translational feedrate in the MCS by QBC, CBC, and TOSC algorithms are not well constrained at the critical areas and exceed the specified values by 9.1442%, 10.1870%, and 8.4684%, respectively, as illustrated in Fig. 23. Besides, the induced actual smoothing errors of tool tip and tool orientation by the four methods are presented in Fig. 24, which are well constrained within the given tolerances. And, the proposed method can generate smaller actual smoothing errors in most of the corners.

<!-- Meanless: 16-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

<!-- figureText: Tracking error \( \overset{⏜}{\infty } \) 60 Abrupt changes Caused by violated velocity 6 8 10 12 QBC method TOSC method (μm) -60 Tracking error \( \widehat{ \odot  } \) 50 (μm) -50 Tracking error \( \widehat{ \circ  } \) 20 Abrupt changes -20 Tracking error \( \widehat{ \circ  } \) 50 -50 100 Tracking error ( 50 0 50 -100 0 2 4 Proposed method CBC method -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_16.jpg?x=101&y=161&w=932&h=1147&r=0"/>

Fig. 27. The tracking errors with four methods in the MCS. (a) X-axis; (b) Y-axis; (c) Z-axis; (d) A-axis; (e) C-axis.

<!-- Media -->

The reference axial kinematic profiles in the WCS with four methods are presented in Fig. 25. And, the IKT introduced in Section 2 is adopted to calculate the motion of each axis in the MCS, which is presented in Fig. 26. As observed in Fig. 25, all the methods can constrain the axial velocity and acceleration in the WCS within the specified limits. However, many jerk spikes occur with the QBC and CBC methods, which may cause unpredictable machining results. The reason why the axial jerks, generated by CBC and QBC methods, are not well bounded is that it is difficult to limit the axial kinematic constraints in feedrate scheduling of the spline curves [29], and the feedrate fluctuation is unavoidable in the interpolation process for B-spline and Bézier curves, due to the discrepancy between the curve parameter and arc length \( \left\lbrack  {{49},{51}}\right\rbrack \) . As illustrated in Fig. 26, the transitional axial velocity and acceleration with the proposed methods in the MCS are continuous, and the axial jerks are well bounded. However, the situation is quite different for the other three methods. For the CBC and TOSC techniques, the velocities of the C-axis are violated, as shown in Fig. 26(a). What's more, for both the \( \mathrm{{QBC}} \) and \( \mathrm{{CBC}} \) methods,the acceleration of the \( \mathrm{C} \) -axis is violated and the axial jerk at most of the corners is out of bounds, which may lead to comparatively worse tracking performance. Besides, for both the CBC and QBC methods, the distinct discontinuities of acceleration occur in the dotted areas of Fig. 26(b), and many big jerk spikes are generated.

<!-- Media -->

Table 4

The comparisons of the tracking error by different methods.

<table><tr><td/><td colspan="5">error \( \left( {\mu \mathrm{m}}\right) \)</td></tr><tr><td>Axis in the MCS</td><td>X</td><td>Y</td><td>Z</td><td>A</td><td>C</td></tr><tr><td>Proposed method</td><td>49.080</td><td>23.447</td><td>13.542</td><td>43.108</td><td>61.987</td></tr><tr><td>QBC algorithm</td><td>51.332</td><td>32.902</td><td>16.666</td><td>47.344</td><td>62.961</td></tr><tr><td>CBC technique</td><td>52.277</td><td>34.386</td><td>17.307</td><td>47.782</td><td>87.324</td></tr><tr><td>TOSC method</td><td>51.179</td><td>24.705</td><td>13.644</td><td>44.138</td><td>95.435</td></tr></table>

<!-- Media -->

The violated velocity, discontinuous acceleration, and jerk spikes may damage the axial tracking performance, which will be reflected in the tracking errors directly. The tracking errors of the four methods are compared in Fig. 27 and the axial maximum absolute tracking errors are summarized in Table 4. It can be seen that the tracking errors by the proposed method, where the physical axial kinematics are considered, are better than the other three methods. In particular, the tracking performances of the Y-axis, Z-axis, and C-axis by the proposed method show much better than the other methods. As illustrated in Fig. 27(b) and (c), the tracking errors of the Y-axis and Z-axis by the two two-step smoothing methods have abrupt changes in the dotted areas, which is caused by the discontinuous acceleration and jerk spike shown in Fig. 26. Meanwhile, the proposed method shows better performance on the maximum absolute tracking errors, more than 26.94% and 28.74% reduction of Y-axis's maximum absolute tracking error, and more than 18.74% and 21.75% reduction of Z-axis's maximum absolute tracking error are obtained, when compared with the CBC and QBC methods, respectively. What's more, the CBC and TOSC techniques without consideration of the rotatory feedrate has the aggressively violated velocity as presented in Fig. 25(a), which lead to more than 40.87% and 53.96% increment of the C-axis's maximum absolute tracking errors, respectively, in comparison with the proposed method.

<!-- Meanless: 17-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

<!-- figureText: CBC method QBC method Proposed method Average time=2.756 μs Average time=1.936 μs 60 80 100 Serial number of interpolation points Computational time of the proposed method (μs) 0.5 Average time=0.189 μs 0 20 40 -->

<img src="https://cdn.noedgeai.com/bo_d2slatf7aajc738sf8cg_17.jpg?x=158&y=158&w=644&h=368&r=0"/>

Fig. 28. The computational time in calculating 100 interpolation points of the blended trajectory.

<!-- Media -->

What's more, the above mentioned two two-step algorithms are compared with the proposed method based on average computational time in calculating the interpolation points along the corner trajectory. The computational time of CBC and QBC methods involves the calculation of 1) The first and second-order derivatives of the spline curve; 2) The parameter calculation by STE method; 3) The corresponding point calculation with the deBoor-Cox formula on tool tip and tool orientation trajectories. Meanwhile, the computational time of the proposed method involves the calculation of 1 ) The unit vectors of the first and second segments; 2) The corresponding points calculation with the vectors addition on tool tip and tool orientation trajectories. As shown in Fig. 28, the QBC algorithm consumes the maximum average time of \( {2.756\mu }\mathrm{s} \) ,meanwhile, the CBC technique takes about \( {1.936\mu }\mathrm{s} \) to calculate each interpolation point. The computation time of the CBC technique is shorter than that of the QBC algorithm, it is because the cubic spline used in the CBC technique has less computational burden compared with the quartic spline used in the QBC algorithm. More importantly, it should be noted that the proposed method without complex calculation of the spline curve takes only \( {0.189\mu }\mathrm{s} \) of each interpolation point,which shows a much better real-time performance than the other two two-step corner smoothing methods.

## 6. Conclusion

The continuous corner smoothing algorithms of five-axis linear segments are important to guarantee high-efficiency and high-accuracy machining. This paper proposes a novel corner smoothing method based on feedrate blending to generate smooth trajectories along the entire tool path. With the proposed algorithm, the feedrate profiles are blended directly within the specified tool tip and tool orientation errors. As compared to the other three algorithms, the proposed method can not only control the tool tip feedrate, angular feedrate in the WCS, and the translational and rotatory feedrate in the MCS, but deal well with the axial kinematics in both the WCS and MCS. Besides, compared with the two-step geometry-based corner smoothing methods, the construction and interpolation of the complex parametric splines are avoided. Simulation and experimental results validate the effectiveness and functionality of the proposed method. When compared with the other three methods, the proposed method yields better control over the angular feedrate, rotatory feedrate, and axial jerk. Besides, the tracking results show that the proposed algorithm can improve the tracking accuracy of the Y-axis and Z-axis by more than 18.00% in comparison with CBC and QBC methods, and reduce the maximum absolute tracking error of the C-axis by 29.00% at least than CBC and TOSC techniques, while still deliver similar or better machining efficiency. What's more, more than 102 times reduction of the average calculation time in the real-time CNC system is obtained compared with the two geometry-based corner smoothing methods, which shows a much better real-time performance. Further work could emphasize the more accurate control of the tool tip error and real cutting comparisons.

## Funding

This work was supported by the National Natural Science Foundation of China [grant numbers 51975402, 51605328].

## Declaration of Competing Interest

The authors declare that they have no known competing financial interests or personal relationships that could have appeared to influence the work reported in this paper.

## CRediT authorship contribution statement

Yongbin Zhang: Conceptualization, Software, Validation, Formal analysis, Data curation, Writing - original draft, Writing - review & editing. Taiyong Wang: Conceptualization, Funding acquisition, Supervision, Resources. Peng Peng: Methodology, Investigation, Writing - review & editing. Jingchuan Dong: Funding acquisition, Data curation. Libo Cao: Validation, Data curation. Chong Tian: Data curation, Investigation.

## Acknowledgements

I thank Mr. S Zhang, HN Song, and XD Zhang from TSNC Technology Co., Ltd, for their help in establishing the experimental platform. And, our deepest gratitude goes to our family.

<!-- Meanless: 18-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

## Appendix A

\[{\Psi }_{1} = \left( {\frac{{j}_{i}^{2}}{36} - \frac{\cos \left( \theta \right)  \cdot  {j}_{i} \cdot  {j}_{j}}{18} + \frac{{j}_{j}^{2}}{36}}\right) \]

\[{\Psi }_{2} = \frac{{j}_{i} \cdot  \left( {\frac{{a}_{i}}{2} - \frac{{T}_{i} \cdot  {j}_{i}}{2}}\right) }{3} + \frac{{j}_{j} \cdot  \left( {\frac{{a}_{j}}{2} - \frac{{T}_{j} \cdot  {j}_{j}}{2}}\right) }{3} - \frac{{j}_{j} \cdot  \cos \left( \theta \right)  \cdot  \left( {{a}_{i} - {T}_{i} \cdot  {j}_{i}}\right) }{6} - \frac{{j}_{i} \cdot  \cos \left( \theta \right)  \cdot  \left( {\frac{{a}_{j}}{2} - \frac{{T}_{j} \cdot  {j}_{j}}{2}}\right) }{3}\]

\[{\Psi }_{3} = \frac{{j}_{i} \cdot  \left( {\frac{{j}_{i} \cdot  {T}_{i}^{2}}{2} - {a}_{i} \cdot  {T}_{i} + {v}_{i}}\right) }{3} + \frac{{j}_{j} \cdot  \left( {\frac{{j}_{j} \cdot  {T}_{j}^{2}}{2} - {a}_{j} \cdot  {T}_{j} + {v}_{j}}\right) }{3} + {\left( \frac{{a}_{i}}{2} - \frac{{T}_{i} \cdot  {j}_{i}}{2}\right) }^{2} + {\left( \frac{{a}_{j}}{2} - \frac{{T}_{j} \cdot  {j}_{j}}{2}\right) }^{2} - \]

\[\frac{{j}_{i} \cdot  \cos \left( \theta \right)  \cdot  \left( {\frac{{j}_{j} \cdot  {T}_{j}^{2}}{2} - {a}_{j} \cdot  {T}_{j} + {v}_{j}}\right) }{3} - \cos \left( \theta \right)  \cdot  \left( {\frac{{a}_{j}}{2} - \frac{{T}_{j} \cdot  {j}_{j}}{2}}\right)  \cdot  \left( {{a}_{i} - {T}_{i} \cdot  {j}_{i}}\right) \]

\[ - \frac{{j}_{j} \cdot  \cos \left( \theta \right)  \cdot  \left( {{j}_{i} \cdot  {T}_{i}^{2} - 2 \cdot  {a}_{i} \cdot  {T}_{i} + 2 \cdot  {v}_{i}}\right) }{6}\]

\[{\Psi }_{4} = 2 \cdot  \left( {\frac{{a}_{i}}{2} - \frac{{T}_{i} \cdot  {j}_{j}}{2}}\right)  \cdot  \left( {\frac{{j}_{i} \cdot  {T}_{i}^{2}}{2} - {a}_{i} \cdot  {T}_{i} + {v}_{i}}\right)  + 2 \cdot  \left( {\frac{{a}_{j}}{2} - \frac{{T}_{j} \cdot  {j}_{j}}{2}}\right)  \cdot  \left( {\frac{{j}_{j} \cdot  {T}_{j}^{2}}{2} - {a}_{j} \cdot  {T}_{j} + {v}_{j}}\right) \]

\[ + \frac{{j}_{i} \cdot  \left( {\frac{{a}_{i} \cdot  {T}_{i}^{2}}{2} - \frac{{j}_{i} \cdot  {T}_{i}^{3}}{6} - {v}_{i} \cdot  {T}_{i} + {s}_{i}}\right) }{3} + \frac{{j}_{j} \cdot  \left( {\frac{{a}_{j} \cdot  {T}_{j}^{2}}{2} - \frac{{j}_{j} \cdot  {T}_{j}^{3}}{6} - {v}_{j} \cdot  {T}_{j} + {s}_{j}}\right) }{3}\]

\[ - \cos \left( \theta \right)  \cdot  \left( {\frac{{a}_{j}}{2} - \frac{{T}_{j} \cdot  {j}_{j}}{2}}\right)  \cdot  \left( {{j}_{i} \cdot  {T}_{i}^{2} - 2 \cdot  {a}_{i} \cdot  {T}_{i} + 2 \cdot  {v}_{i}}\right)  - \cos \left( \theta \right)  \cdot  \left( {{a}_{i} - {T}_{i} \cdot  {j}_{i}}\right)  \cdot  \left( {\frac{{j}_{j} \cdot  {T}_{j}^{2}}{2} - {a}_{j} \cdot  {T}_{j} + {v}_{j}}\right) \]

\[ - \frac{{j}_{i} \cdot  \cos \left( \theta \right)  \cdot  \left( {\frac{{a}_{j} \cdot  {T}_{j}^{2}}{2} - \frac{{j}_{j} \cdot  {T}_{j}^{3}}{6} - {v}_{j} \cdot  {T}_{j} + {s}_{j}}\right) }{3} - \frac{{j}_{j} \cdot  \cos \left( \theta \right)  \cdot  \left( {{a}_{i} \cdot  {T}_{i}^{2} - \frac{{j}_{i} \cdot  {T}_{i}^{3}}{3} - 2 \cdot  {v}_{i} \cdot  {T}_{i} + 2 \cdot  {s}_{i}}\right) }{6} \tag{A.1}\]

\[{\Psi }_{5} = 2 \cdot  \left( {\frac{{a}_{i}}{2} - \frac{{T}_{i} \cdot  {j}_{j}}{2}}\right)  \cdot  \left( {\frac{{a}_{i} \cdot  {T}_{i}^{2}}{2} - \frac{{j}_{i} \cdot  {T}_{i}^{3}}{6} - {v}_{i} \cdot  {T}_{i} + {s}_{i}}\right)  + 2 \cdot  \left( {\frac{{a}_{j}}{2} - \frac{{T}_{j} \cdot  {j}_{j}}{2}}\right)  \cdot  \left( {\frac{{j}_{j} \cdot  {T}_{j}^{2}}{2} - \frac{{j}_{j} \cdot  {T}_{j}^{3}}{6} - {v}_{j} \cdot  {T}_{j} + {s}_{j}}\right)  + \]

\[{\left( \frac{{j}_{i} \cdot  {T}_{i}^{2}}{2} - {a}_{i} \cdot  {T}_{i} + {v}_{i}\right) }^{2} + {\left( \frac{{j}_{j} \cdot  {T}_{j}^{2}}{2} - {a}_{j} \cdot  {T}_{j} + {v}_{j}\right) }^{2} - \cos \left( \theta \right)  \cdot  \left( {{a}_{i} - {T}_{i} \cdot  {j}_{i}}\right)  \cdot  \left( {\frac{{a}_{j} \cdot  {T}_{j}^{2}}{2} - \frac{{j}_{j} \cdot  {T}_{j}^{3}}{6} - {v}_{j} \cdot  {T}_{j} + {s}_{j}}\right) \]

\[ - \cos \left( \theta \right)  \cdot  \left( {\frac{{j}_{j} \cdot  {T}_{j}^{2}}{2} - {a}_{j} \cdot  {T}_{j} + {v}_{j}}\right)  \cdot  \left( {{j}_{i} \cdot  {T}_{i}^{2} - 2 \cdot  {a}_{i} \cdot  {T}_{i} + 2 \cdot  {v}_{i}}\right) \]

\[ - \cos \left( \theta \right)  \cdot  \left( {\frac{{a}_{j}}{2} - \frac{{T}_{j} \cdot  {j}_{j}}{2}}\right)  \cdot  \left( {{a}_{i} \cdot  {T}_{i}^{2} - \frac{{j}_{i} \cdot  {T}_{i}^{3}}{3} - 2 \cdot  {v}_{i} \cdot  {T}_{i} + 2 \cdot  {s}_{i}}\right) \]

\[{\Psi }_{6} = \left( {2 \cdot  \left( {\frac{{j}_{i} \cdot  {T}_{i}^{2}}{2} - {a}_{i} \cdot  {T}_{i} + {v}_{i}}\right)  \cdot  \left( {\frac{{a}_{i} \cdot  {T}_{i}^{2}}{2} - \frac{{j}_{i} \cdot  {T}_{i}^{3}}{6} - {v}_{i} \cdot  {T}_{i} + {s}_{i}}\right)  + 2 \cdot  \left( {\frac{{j}_{j} \cdot  {T}_{j}^{2}}{2} - {a}_{j} \cdot  {T}_{j} + {v}_{j}}\right) }\right) \]

\[ \cdot  \left( {\frac{{a}_{j} \cdot  {T}_{j}^{2}}{2} - \frac{{j}_{j} \cdot  {T}_{j}^{3}}{6} - {v}_{j} \cdot  {T}_{j} + {s}_{j}}\right)  - \cos \left( \theta \right)  \cdot  \left( {\frac{{j}_{j} \cdot  {T}_{j}^{2}}{2} - {a}_{j} \cdot  {Tj} + {v}_{j}}\right)  \cdot  \left( {{a}_{i} \cdot  {T}_{i}^{2} - \frac{{j}_{i} \cdot  {T}_{i}^{3}}{3} - 2 \cdot  {v}_{i} \cdot  {T}_{i} + 2 \cdot  {s}_{i}}\right) \]

\[\left. {-\cos \left( \theta \right)  \cdot  \left( {{j}_{i} \cdot  {T}_{i}^{2} - 2 \cdot  {a}_{i} \cdot  {T}_{i} + 2 \cdot  {v}_{i}}\right)  \cdot  \left( {\frac{{a}_{j} \cdot  {T}_{j}^{2}}{2} - \frac{{j}_{j} \cdot  T{j}^{3}}{6} - {vj} \cdot  {T}_{j} + {s}_{j}}\right) }\right) \]

\[{\Psi }_{7} = {\left( \frac{{a}_{i} \cdot  {T}_{i}^{2}}{2} - \frac{{j}_{i} \cdot  T{i}^{3}}{6} - {v}_{i} \cdot  {T}_{i} + {s}_{i}\right) }^{2} + {\left( \frac{{a}_{j} \cdot  {T}_{j}^{2}}{2} - \frac{{j}_{j} \cdot  {T}_{j}^{3}}{6} - {v}_{j} \cdot  {T}_{j} + {s}_{j}\right) }^{2} - {\varepsilon }_{\max }^{2}\]

\[ - \cos \left( \theta \right)  \cdot  \left( {{a}_{i} \cdot  {T}_{i}^{2} - \frac{{j}_{i} \cdot  {T}_{i}^{3}}{3} - 2 \cdot  {v}_{i} \cdot  {T}_{i} + 2 \cdot  {s}_{i}}\right)  \cdot  \left( {\frac{{a}_{j} \cdot  {T}_{j}^{2}}{2} - \frac{{j}_{j} \cdot  {T}_{j}^{3}}{6} - {v}_{j} \cdot  {T}_{j} + {s}_{j}}\right) \]

## Appendix B

<!-- Meanless: Table B1 19-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

<!-- Media -->

Table B1

The specific tool tip position and tool orientation coordinates of the fan-shaped tool path.

<table><tr><td>Number</td><td>\( {\mathrm{P}}_{\mathrm{{xw}}}\left( \mathrm{{mm}}\right) \)</td><td>\( {\mathrm{P}}_{\mathrm{{vw}}}\left( \mathrm{{mm}}\right) \)</td><td>\( {\mathrm{P}}_{\mathrm{{zw}}}\left( \mathrm{{mm}}\right) \)</td><td>\( {\mathrm{O}}_{\mathrm{{iw}}} \)</td><td>\( {\mathrm{O}}_{\mathrm{{jw}}} \)</td><td>\( {\mathrm{O}}_{\mathrm{{kw}}} \)</td><td>\( {\mathrm{P}}_{\mathrm{{Am}}} \) (deg)</td><td>\( {\mathrm{P}}_{\mathrm{{Cm}}} \) (deg)</td></tr><tr><td>1</td><td>113.5608</td><td>7.7353</td><td>-2.2093</td><td>-0.1073</td><td>0.6249</td><td>0.7733</td><td>39.3488</td><td>-9.7393</td></tr><tr><td>2</td><td>117.8649</td><td>-10.9501</td><td>-0.9741</td><td>-0.0030</td><td>0.6530</td><td>0.7573</td><td>40.7693</td><td>-0.2634</td></tr><tr><td>3</td><td>115.5029</td><td>-34.8088</td><td>0.7796</td><td>0.1350</td><td>0.6488</td><td>0.7489</td><td>41.5046</td><td>11.7575</td></tr><tr><td>4</td><td>104.0860</td><td>-55.8401</td><td>2.6826</td><td>0.2639</td><td>0.5968</td><td>0.7578</td><td>40.7315</td><td>23.8579</td></tr><tr><td>5</td><td>95.2257</td><td>-63.9596</td><td>4.0735</td><td>0.3172</td><td>0.5518</td><td>0.7713</td><td>39.5291</td><td>29.8877</td></tr><tr><td>6</td><td>88.8206</td><td>-65.9723</td><td>6.0218</td><td>0.3295</td><td>0.5161</td><td>0.7906</td><td>37.7581</td><td>32.5573</td></tr><tr><td>7</td><td>80.1628</td><td>-65.0964</td><td>7.0315</td><td>0.3268</td><td>0.4780</td><td>0.8153</td><td>35.3844</td><td>34.3563</td></tr><tr><td>8</td><td>72.4782</td><td>-61.1095</td><td>6.8631</td><td>0.3137</td><td>0.4461</td><td>0.8382</td><td>33.0471</td><td>35.1166</td></tr><tr><td>9</td><td>65.9858</td><td>-54.6664</td><td>6.1430</td><td>0.2887</td><td>0.4164</td><td>0.8621</td><td>30.4462</td><td>34.7312</td></tr><tr><td>10</td><td>54.2520</td><td>-39.5681</td><td>4.9312</td><td>0.2170</td><td>0.3575</td><td>0.9084</td><td>24.7211</td><td>31.2592</td></tr><tr><td>11</td><td>38.0390</td><td>-23.1115</td><td>3.5361</td><td>0.1295</td><td>0.2618</td><td>0.9564</td><td>16.9831</td><td>26.3139</td></tr><tr><td>12</td><td>31.6791</td><td>-18.7113</td><td>3.0176</td><td>0.1055</td><td>0.2209</td><td>0.9696</td><td>14.1697</td><td>25.5290</td></tr><tr><td>13</td><td>26.1926</td><td>-16.7813</td><td>2.4549</td><td>0.0968</td><td>0.1849</td><td>0.9780</td><td>12.0494</td><td>27.6345</td></tr><tr><td>14</td><td>22.3378</td><td>-16.4864</td><td>1.9074</td><td>0.0979</td><td>0.1597</td><td>0.9823</td><td>10.7992</td><td>31.5112</td></tr><tr><td>15</td><td>18.7698</td><td>-17.9379</td><td>0.2587</td><td>0.1106</td><td>0.1379</td><td>0.9843</td><td>10.1814</td><td>38.7334</td></tr><tr><td>16</td><td>17.0042</td><td>-21.3334</td><td>-1.3755</td><td>0.1335</td><td>0.1275</td><td>0.9828</td><td>10.6362</td><td>46.3079</td></tr><tr><td>17</td><td>16.7631</td><td>-27.0829</td><td>-2.5738</td><td>0.1711</td><td>0.1277</td><td>0.9769</td><td>12.3286</td><td>53.2591</td></tr><tr><td>18</td><td>20.0593</td><td>-38.2107</td><td>-3.5736</td><td>0.2390</td><td>0.1533</td><td>0.9588</td><td>16.4965</td><td>57.3142</td></tr><tr><td>19</td><td>26.9912</td><td>-67.7863</td><td>-5.5703</td><td>0.3999</td><td>0.2013</td><td>0.8942</td><td>26.5986</td><td>63.2819</td></tr><tr><td>20</td><td>28.0807</td><td>-86.6480</td><td>-6.2051</td><td>0.4879</td><td>0.2082</td><td>0.8477</td><td>32.0393</td><td>66.8918</td></tr><tr><td>21</td><td>21.8131</td><td>-103.5714</td><td>-4.4425</td><td>0.5679</td><td>0.1822</td><td>0.8027</td><td>36.6129</td><td>72.2167</td></tr><tr><td>22</td><td>6.1563</td><td>-114.1796</td><td>-2.0441</td><td>0.6287</td><td>0.0985</td><td>0.7714</td><td>39.5227</td><td>81.0999</td></tr><tr><td>23</td><td>-12.6615</td><td>-117.9888</td><td>-0.8723</td><td>0.6542</td><td>-0.0066</td><td>0.7563</td><td>40.8600</td><td>90.5818</td></tr><tr><td>24</td><td>-31.8162</td><td>-116.3240</td><td>0.5145</td><td>0.6520</td><td>-0.1172</td><td>0.7491</td><td>41.4869</td><td>100.1915</td></tr><tr><td>25</td><td>-49.4389</td><td>-108.7844</td><td>2.0895</td><td>0.6189</td><td>-0.2239</td><td>0.7529</td><td>41.1616</td><td>109.8882</td></tr></table>

<!-- Media -->

<!-- Meanless: 20-->




<!-- Meanless: Y. Zhang, T. Wang, P. Peng et al. International Journal of Mechanical Sciences 195 (2021) 106262-->

References

[1] Yuen A, Zhang K, Altintas Y. Smooth trajectory generation for five-axis machine tools. Int J Mach Tools Manuf 2013;71:11-19. doi:10.1016/j.ijmachtools.2013.04.002.

[2] Zhang YB, Wang TY, Dong JC, Peng P, Liu YF, Ke RJ. An analytical G3 continuous corner smoothing method with adaptive constraints adjustments for five-axis machine tool. Int J Adv Manuf Technol 2020;109:1007-26. doi:10.1007/s00170-020-05402-x.

[3] Hu Q, Chen YP, Yang JX. On-line contour error estimation and control for corner smoothed five-axis tool paths. Int J Mech Sci 2020;171:105377. doi:10.1016/j.ijmecsci.2019.105377.

[4] Liu Y, Wan M, Xing WJ, Xiao QB, Zhang WH. Generalized actual inverse kinematic model for compensating geometric errors in five-axis machine tools. Int J Mech Sci 2018;145:299-317. doi:10.1016/j.ijmecsci.2018.07.022.

[5] Essid M, Gassara B, Baili M, Hbaieb M, Dessein G, Sai BW. Analytical modeling of the CNC machine axis motion in high-speed milling with local smoothing. Int J Adv Manuf Technol 2019;105:457-70. doi:10.1007/s00170-019-04157-4.

[6] Du X, Huang J, Zhu LM, Ding H. An error-bounded B-spline curve approximation scheme using dominant points for CNC interpolation of micro-line toolpath. Robot Comput Integr Manuf 2020;64:101930. doi:10.1016/j.rcim.2019.101930.

[7] Huang XY, Zhao F, Tao T, Mei XS. A novel local smoothing method for five-axis machining with time-synchronization feedrate scheduling. IEEE Access 2020;8:89185- 204. doi:10.1109/ACCESS.2020.2992022.

[8] Han J, Liu XY, Jiang Y, Xia L, Lu L. An irredundant G01 tool path generation method for five-axis machining considering tool tip and orientation errors. Int J Adv Manuf Tech 2019;103:1033-44. doi:10.1007/s00170-019-03583-8.

[9] Zhao H, Zhu L M, Ding H. A real-time look-ahead interpolation methodology with curvature-continuous B-spline transition scheme for CNC machining of short line segments. Int J Mach Tools Manuf 2013;65:88-98. doi:10.1016/j.ijmachtools.2012.10.005.

[10] Xiao QB, Wan M, Liu Y, Qin XB, Zhang WH. Space corner smoothing of CNC machine tools through developing 3D general clothoid. Robot Comput Integrated Manuf 2020;64:101949. doi:10.1016/j.rcim.2020.101949.

[11] Bi QZ, Shi J, Wang LM, Zhu YH, Ding H. Analytical curvature-continuous dual-Bézier corner transition for five-axis linear tool path. Int J Mach Tools Manuf 2015;91:96- 108. doi:10.1016/j.ijmachtools.2015.02.002.

[12] Huang J, Du X, Zhu LM. Real-time local smoothing for five-axis linear toolpath considering smoothing error constraints. Int J Mach Tools Manuf 2018;124:67-79. doi:10.1016/j.ijmachtools.2017.10.001.

[13] Zhao X, Zhao H, Wan SH, Li XF, Ding H. An analytical decoupled corner smoothing method for five-axis linear tool paths. IEEE Access 2019;7:22763-72. doi:10.1109/ACCESS.2019.2898703.

[14] Tajima S, Sencer B. Accurate real-time interpolation of 5-axis tool paths with local corner smoothing. Int J Mach Tool Manu 2019;142:1-15. doi:10.1016/j.ijmachtools.2019.04.005.

[15] Fan W, Ji JW, Wu PY, Wu DZ, Chen H. Modeling and simulation of trajectory smoothing and feedrate scheduling for vibration-damping CNC machining. Simul Model Pract Th 2020;99:102028. doi:10.1016/j.simpat.2019.102028.

[16] Zhao H, Zhang YH, Ding H. A corner rounding and trajectory generation algorithm for five-axis linear toolpath. J Mech Eng 2018;54(3):108-16. doi:10.3901/JME.2018.03.108.

[17] Lin MT, Lee JC, Shen CC, Lee CY, Wang JT. Local corner smoothing with kinematic and real-time constraints for five-axis linear tool path. IEEE/ASME International Conference on Advanced Intelligent Mechatronics (AIM) 2018;816-821. doi:10.1109/AIM.2018.8452389.

[18] Tulsyan S, Altintas Y. Local toolpath smoothing for five-axis machine tools. Int J Mach Tools Manuf 2015;96:15-26. doi:10.1016/j.ijmachtools.2015.04.014.

[19] Beudaert X, Lavernhe S, Tournier C. 5-axis local corner rounding of linear tool path discontinuities. Int J Mach Tools Manuf 2013;73:9-16. doi:10.1016/j.ijmachtools.2013.05.008.

[20] Xu FY, Sun YW. A circumscribed corner rounding method based on double cubic B-splines for a five-axis linear tool path. Int J Adv Manuf Technol 2018;94:451-62. doi:10.1007/s00170-017-0869-x.

[21] Jin YQ, Bi QZ, Wang YH. Dual-Bézier path smoothing and interpolation for five-axis linear tool path in workpiece coordinate system. Adv Mech Eng 2015;7:1-14. doi:10.1177/1687814015595211.

[22] Shi J, Bi QZ, Zhu LM, Wang YH. Corner rounding of linear five-axis tool path by dual PH curves blending. Int J Mach Tools Manuf 2015;88:223-36. doi:10.1016/j.ijmachtools.2014.09.007.

[23] Yang JX, Yuen A. An analytical local corner smoothing algorithm for five-axis CNC machining. Int J Mach Tools Manuf 2017;123:22-35. doi:10.1016/j.ijmachtools.2017.07.007.

[24] Zhang YB, Wang TY, Dong JC, Liu YF, Ke RJ. A corner smoothing method with feedrate blending for linear segments under geometric and kinematic constraints. Proc IMechE Part B: J Eng Manuf 2020;234(9):1227-45. doi:10.1177/0954405420911336.

[25] Liu M, Huang Y, Yin L, Guo JW, Shao XY, Zhang GJ. Development and implementation of a NURBS interpolator with smooth feedrate scheduling for CNC machine tools. Int J Mach Tools Manuf 2014;87:1-15. doi:10.1016/j.ijmachtools.2014.07.002.

[26] Liu Y, Wan M, Qin XB, QB Xiao, Zhang WH. FIR filter-based continuous interpolation of G01 commands with bounded axial and tangential kinematics in industrial five-axis machine tools. Int J Mech Sci 2020;169:105325. doi:10.1016/j.ijmecsci.2019.105325.

[27] Zhang Q, Gao XS, Li HB, Zhao MY. Minimum time corner transition algorithm with confined feedrate and axial acceleration for NC machining along linear tool path. Int J Adv Manuf Technol 2017;89:941-56. doi:10.1007/s00170-016-9144-9.

[28] Ren K, Pan YJ, Jiang DY, Pan J, Chen WH, Hu XX. Corner transition toolpath generation based on velocity-blending algorithm for glass edge grinding. Chin J Mech Eng-En 2019;32:87. doi:10.1186/s10033-019-0398-7.

[29] Wang WX, Hu CX, Zhou K, He SQ. Corner trajectory smoothing with asymmetrical transition profile for CNC machine tools. Int J Mach Tools Manuf 2019;144:103423. doi:10.1016/j.ijmachtools.2019.05.007.

[30] Tajima S, Sencer B. Kinematic corner smoothing for high speed machine tools. Int J Mach Tools Manuf 2016;108:27-43. doi:10.1016/j.ijmachtools.2016.05.009.

[31] Chen WC, Chen CS, Lee FC, LY Che. High speed blending motion trajectory planning using a predefined absolute accuracy. Int J Adv Manuf Techn 2019;104:2179-93. doi:10.1007/s00170-019-03973-y.

[32] Du JF, Zhang LQ, Tian G. Kinematic corner smoothing algorithm based on jounce limited. J Comput-Aided Des Comput Graphics 2018;30:1563-71. doi:10.3724/SP.J.1089.2018.16810.

[33] Du JF, Zhang LQ, Tian G. Acceleration smoothing algorithm for global motion in high-speed machining. Proc IMechE Part B: J Eng Manuf 2018;233:1844-58. doi:10.1177/0954405418798870.

[34] Li H, Wu WJ, Rastegar J, Guo A. A real-time and look-ahead interpolation algorithm with axial jerk-smooth transition scheme for computer numerical control machining of micro-line segments. Proc IMechE Part B: J Eng Manuf 2018;233(9):2007-19. doi:10.1177/0954405418809768.

[35] Tajima S, Sencer B, Shamoto E. Accurate interpolation of machining tool paths based on FIR filtering. Precis Eng 2018;52:332-44. doi:10.1016/j.precisioneng.2018.01.016.

[36] Tsai MS, Huang YC. A novel integrated dynamic acceleration/deceleration interpolation algorithm for a CNC controller. Int J Adv Manuf Techn 2016;87:279-92. doi:10.1007/s00170-016-8444-4.

[37] Dong JC, Wang TY, Li B, Ding YY. Smooth feedrate planning for continuous short line tool path with contour error constraint. Int J Mach Tool Manu 2014;76:1-12. doi:10.1016/j.ijmachtools.2013.09.009.

[38] My CA, Bohez ELJ. A novel differential kinematics model to compare the kinematic performances of 5-axis CNC machines. Int J Mech Sci 2019;163:105117. doi:10.1016/j.ijmecsci.2019.105117.

[39] Tajima S, Sencer V. Real-time trajectory generation for 5-axis machine tools with singularity avoidance. Cirp Ann Manuf Technol 2020;00:1-4. doi:10.1016/j.cirp.2020.04.050.

[40] Xia CJ, Wang SL, Ma SB, Xiao YL. Crucial geometric error compensation towards gear grinding accuracy enhancement based on simplified actual inverse kinematic model. Int J Mech Sci 2019;169:105319. doi:10.1016/j.ijmecsci.2019.105319.

[41] Xu JT, Zhang DY, Sun YW. Kinematics performance oriented smoothing method to plan tool orientations for 5-axis ball-end CNC machining. Int J Mech Sci 2019;157- 158:293-303. doi:10.1016/j.ijmecsci.2019.04.038.

[42] Sun YW, Zhao Y, Xu JT, Guo DM. The feedrate scheduling of parametric interpolator with geometry process and drive constraints for multi-axis CNC machine tools. Int J Mach Tools Manuf 2014;85:49-57. doi:10.1016/j.ijmachtools.2014.05.001.

[43] Sun YW, Jia ZY, Ren F, Guo DM. Adaptive feedrate scheduling for NC machining along curvilinear paths with improved kinematic and geometric properties. Int J Adv Manuf Technol 2008;36:60-8. doi:10.1007/s00170-006-0817-7.

[44] Yuan CM, Zhang K, Fan W. Time-optimal interpolation for CNC machining along curved tool paths with confined chord error. J Syst Sci Complex 2013;26:836-70. doi:10.1007/s11424-013-3180-4.

[45] Liu Q, Liu H, Yuan SM. High Accurate Interpolation of NURBSTool Path for CNC Machine Tools. Chin J Mech Eng-En 2016;29:911-20. doi:10.3901/CJME.2016.0407.047.

[46] Huang J, Lu YA, Zhu LM. Real-time feedrate scheduling for five-axis machining by simultaneously planning linear and angular trajectories. Int J Mach Tools Manuf 2018;135:78-96. doi:10.1016/j.ijmachtools.2018.08.006.

[47] Zhang WB, Ren JX. Improving the machining dynamics performance and efficiency for complex channel part manufacturing by planning the tool orientations and feed rate sequence. Int J Adv Manuf Technol 2020;107:3663-89. doi:10.1007/s00170-020-05157-5.

[48] Altintas Y, Erkorkmaz K. Feedrate optimization for spline interpolation in high speed machine tools. Cirp Ann Manuf Technol 2003;52:297-302. doi:10.1016/S0007-8506(07)60588-5.

[49] Lin MT, Tsai MS, Yau HT. Development of a dynamics-based NURBS interpolator with real-time look-ahead algorithm. Int J Mach Tools Manuf 2007;47:2246-62. doi:10.1016/j.ijmachtools.2007.06.005.

[50] Fleisig RV, Spence AD. A constant feed and reduced angular acceleration interpolation algorithm for multi-axis machining. Comput-Aided Des 2001;33:1-15. doi:10.1016/S0010-4485(00)00049-X.

[51] Wang TY, Zhang YB, Dong JC, Ke RJ, Ding YY. NURBS interpolator with adaptive smooth feedrate scheduling and minimal feedrate fluctuation. Int J Precis Eng Manu 2020;21:273-90. doi:10.1007/s12541-019-00288-6.

[52] Sun YW, Zhao Y, Bao YR, Guo DM. A smooth curve evolution approach to the fee-drate planning on five-axis toolpath with geometric and kinematic constraints. Int J Mach Tools Manuf 2015;97:86-97 j.ijmachtools.2015.07.002.

[53] Zhou J, Sun Y, Guo D. Adaptive feedrate interpolation with multiconstraints for five-axis parametric toolpath. Int J Adv Manuf Technol 2014;71(9-12):1873-82. doi:10.1007/s00170-014-5635-8.

[54] Lavernhe S, Tournier C, Lartigue C, Tichkiewitch S, Tollenaere M, Ray P. Kinematic performances in 5-axis machining. In: Advances in integrated designand manufacturing in mechanical engineering II. Dordrecht: Springer; 2007. p. 489-503. doi:10.1007/978-1-4020-6761-7_33.

<!-- Meanless: 21-->

